{"version":3,"file":"6737.js","mappings":"+NAEA,MAGMA,EAAoBC,GACpBA,EAAOC,YAAcD,EAAOE,SACvBC,EAAkB,CAAEC,OAAQJ,EAAOC,WAAYC,SAAUF,EAAOE,WAErEF,EAAOK,aAEsB,EAArBL,EAAOK,aAAV,QAEF,GAEHF,EAAoB,EAAGC,SAAQF,eACnC,MAAMI,EAdc,EAACF,EAAQF,IACtB,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAAOK,SAASL,GAAYE,EAASA,EAAS,IAa9EI,CAAcJ,EAAQF,GACxC,MAAO,GAAG,IAAIO,KAAKC,kBAAaC,EAAW,CACzCC,MAAO,WACPV,SAAUA,IACTW,OAAOC,WAAWR,EAAUS,QAAQ,MAAM,EAGzCC,EAAoB,CAACC,EAAO,SAChC,MAAOf,GAAY,IAAIO,KAAKC,kBAAaC,EAAW,CAClDC,MAAO,WACPV,SAAUe,IACTC,gBACH,OAAOhB,aAA2C,EAASA,EAASiB,KAAK,EAErEC,EAAoB,CAAChB,EAAQiB,EAAUC,GAAS,IAAAC,GAAG,QAAS,YAAaC,GAAW,IAAAD,GAAG,OAAQ,YAAaE,GAAa,KAC7H,OAAQJ,GACN,IAAK,MACH,MAAO,GAAGC,MAAU,IAAAI,GAAQD,GAAa,OAAG,SAAU,UAAWrB,EAAQ,aAAc,OAAG,MAAO,UAAWA,EAAQ,YAAaA,KACnI,IAAK,OACH,MAAO,GAAGkB,MAAU,IAAAI,GAAQD,GAAa,OAAG,UAAW,WAAYrB,EAAQ,aAAc,OAAG,OAAQ,WAAYA,EAAQ,YAAaA,KACvI,IAAK,QACH,MAAO,GAAGkB,MAAU,IAAAI,GAAQD,GAAa,OAAG,WAAY,YAAarB,EAAQ,aAAc,OAAG,QAAS,YAAaA,EAAQ,YAAaA,KAC3I,IAAK,OACH,MAAO,GAAGkB,MAAU,IAAAI,GAAQD,GAAa,OAAG,UAAW,WAAYrB,EAAQ,aAAc,OAAG,OAAQ,WAAYA,EAAQ,YAAaA,KACvI,QACE,OAAOoB,EACX,EAEIG,EAAiB,CAACC,EAAOC,EAAU,CAAC,KACxC,IAAKD,EACH,MAAO,GAET,MAAM,SAAEE,EAAQ,OAAEC,GAAWF,GACvB,SAAER,GAAW,IAAAE,GAAG,QAAS,YAAW,OAAES,GAAS,IAAAT,GAAG,MAAO,aAAgBQ,GAAU,CAAC,EAC1F,MAAO,GAAGE,EAAoBL,EAAOP,EAAYS,GAAW,IAAAP,GAAG,OAAQ,YAAc,OAAOW,EAAkBN,EAAOI,IAAS,EAE1HC,EAAsB,CAACL,EAAON,EAAQE,GAAW,IAAAD,GAAG,OAAQ,cAC3DK,EAAMO,0BAA6BP,EAAMQ,mBAGvChB,EAAkBQ,EAAMO,yBAA0BP,EAAMQ,mBAAoB,IAAId,IAAUE,GAFxF,GAILU,EAAoB,CAACN,EAAON,EAAQE,EAAW,MAC7CI,aAAqC,EAASA,EAAMS,0BAA6BT,aAAqC,EAASA,EAAMQ,oBAGpIhB,IAAoBQ,aAAqC,EAASA,EAAMS,yBAA2B,IAAMT,aAAqC,EAASA,EAAMO,0BAA2BP,aAAqC,EAASA,EAAMQ,mBAAoB,IAAId,IAAUE,GAAU,GAFtR,E,oMCrDX,MAEMc,EAAwB,MAC5BC,YAAYC,IACV,IAAAC,GAAiBC,KAAMF,EACzB,CACAG,aACE,IAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EACpB,MAA+I,iBAAjD,QAAjFH,EAAkC,QAA5BD,EAAKF,KAAKO,oBAAiC,IAAPL,OAAgB,EAASA,EAAGhB,aAA0B,IAAPiB,OAAgB,EAASA,EAAGK,SACgB,QAAxIF,EAAuF,QAAjFD,EAAkC,QAA5BD,EAAKJ,KAAKO,oBAAiC,IAAPH,OAAgB,EAASA,EAAGlB,aAA0B,IAAPmB,OAAgB,EAASA,EAAGG,eAA4B,IAAPF,OAAgB,EAASA,EAAGG,MAE/K,IAAA5B,GAAG,eAAgB,WAC5B,CACA6B,iCACE,IAAIR,EAAIC,EAAIC,EAAIC,EAChBL,KAAKW,oBAAkL,QAA3JR,EAAKS,OAAOC,MAA+E,QAAxEX,EAAKF,gBAAmC,EAASA,KAAKO,oBAAiC,IAAPL,OAAgB,EAASA,EAAGY,iBAAmB,CAAC,UAAuB,IAAPX,OAAgB,EAASA,EAAGY,UAC/E,QAAtIV,EAA8E,QAAxED,EAAKJ,gBAAmC,EAASA,KAAKO,oBAAiC,IAAPH,OAAgB,EAASA,EAAGU,sBAAmC,IAAPT,OAAgB,EAASA,EAAGnB,SAAYc,gBAAmC,EAASA,KAAKgB,eAAkBhB,KAAKiB,kBAClQjB,KAAKgB,mBAAqBhB,KAAKkB,WAAWlB,KAAKO,aAAaO,eAAe5B,OAE/E,CACAiC,oBACEnB,KAAKoB,0BACP,CACAV,iBAAiBW,GACf,IAOE,OANArB,KAAKsB,SAAU,QACK,IAAAC,GAAS,CAC3BC,MAAM,IAAAD,GAAa,sBAAsBF,IAAY,CACnDI,OAAQ,CAAC,cAIf,CACA,MAAOC,GACLC,QAAQC,MAAMF,EAChB,CACA,QACE1B,KAAKsB,SAAU,CACjB,CACF,CACAO,oBACE,IAAI3B,EAAIC,EAAIC,EAAIC,EAAIC,EAAIwB,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAC5E,MAAMC,GAAM,IAAAC,GAAE,+BAAgC,CAAEtC,aAAcP,gBAAmC,EAASA,KAAKO,eAC/G,OAA8E,QAAxEL,EAAKF,gBAAmC,EAASA,KAAKO,oBAAiC,IAAPL,OAAgB,EAASA,EAAG4C,wBAAmG,QAAxE3C,EAAKH,gBAAmC,EAASA,KAAKO,oBAAiC,IAAPJ,OAAgB,EAASA,EAAG4C,wBAC/O,IAAAF,GAAE,OAAQ,KAAMD,EAAK,KAAK,IAAA5D,IAAQ,IAAAH,GAAG,gCAAiC,aAAc,KAAK,IAAAgE,GAAE,iBAAkB,CAAEG,KAAgD,IAA1ChD,KAAKO,aAAawC,sBAA8BE,MAAO,OAAQC,IAAK,UAAWC,KAAM,aAEhNnD,KAAKW,iBACFX,KAAKgB,eAA6G,QAA1FX,EAAkC,QAA5BD,EAAKJ,KAAKO,oBAAiC,IAAPH,OAAgB,EAASA,EAAGU,sBAAmC,IAAPT,OAAgB,EAASA,EAAG+C,gBAG5D,QAA1FtB,EAAkC,QAA5BxB,EAAKN,KAAKO,oBAAiC,IAAPD,OAAgB,EAASA,EAAGQ,sBAAmC,IAAPgB,OAAgB,EAASA,EAAGsB,gBACzH,IAAAP,GAAE,OAAQ,MAAM,IAAAhE,GAAG,wBAAyB,YAAa,KAAK,IAAAgE,GAAE,SAAU,MAAM,IAAAA,GAAE,mBAAoB,CAAEQ,KAAM,WAAY7F,UAAwC,QAA5BuE,EAAK/B,KAAKgB,oBAAiC,IAAPe,OAAgB,EAASA,EAAGvE,YAAgG,QAAjFyE,EAAkC,QAA5BD,EAAKhC,KAAKO,oBAAiC,IAAPyB,OAAgB,EAASA,EAAG9C,aAA0B,IAAP+C,OAAgB,EAASA,EAAGzE,UAAWiB,MAAkG,QAA1F0D,EAAkC,QAA5BD,EAAKlC,KAAKO,oBAAiC,IAAP2B,OAAgB,EAASA,EAAGpB,sBAAmC,IAAPqB,OAAgB,EAASA,EAAGiB,gBAAkB,KAAK,IAAAE,GAAetD,KAAKgB,eAA8C,QAA5BoB,EAAKpC,KAAKO,oBAAiC,IAAP6B,OAAgB,EAASA,EAAGlD,SAAU,KAAK,IAAAL,GAAG,KAAM,YAAa,KAAK,IAAAgE,GAAE,iBAAkB,CAAEG,KAAMhD,KAAKO,aAAawC,sBAAuBM,KAAM,YAAaJ,MAAO,OAAQC,IAAK,UAAWC,KAAM,cAEjwB,IAAAN,GAAE,OAAQ,MAAM,IAAAhE,GAAG,wBAAyB,YAAa,KAAK,IAAAgE,GAAE,SAAU,KAAM7C,KAAKgB,aAAaR,QAAQC,MAAO,KAAK,IAAA5B,GAAG,KAAM,YAAa,KAAK,IAAAgE,GAAE,iBAAkB,CAAEG,KAAMhD,KAAKO,aAAawC,sBAAuBM,KAAM,YAAaJ,MAAO,OAAQC,IAAK,UAAWC,KAAM,cAL7Q,IAAAN,GAAE,cAAe,MAOkG,cAAhD,QAAxER,EAAKrC,gBAAmC,EAASA,KAAKO,oBAAiC,IAAP8B,OAAgB,EAASA,EAAGkB,UAAoG,QAAxEjB,EAAKtC,gBAAmC,EAASA,KAAKO,oBAAiC,IAAP+B,OAAgB,EAASA,EAAGkB,eAChP,IAAAX,GAAE,OAAQ,KAAMD,EAAK,KAAK,IAAA5D,IAAQ,IAAAH,GAAG,sBAAuB,aAAc,KAAK,IAAAgE,GAAE,iBAAkB,CAAEG,KAA+E,QAAxET,EAAKvC,gBAAmC,EAASA,KAAKO,oBAAiC,IAAPgC,OAAgB,EAASA,EAAGiB,aAAcH,KAAM,YAAaJ,MAAO,OAAQC,IAAK,UAAWC,KAAM,aAEtN,YAAhD,QAA5BX,EAAKxC,KAAKO,oBAAiC,IAAPiC,OAAgB,EAASA,EAAGe,UAAsD,QAA5Bd,EAAKzC,KAAKO,oBAAiC,IAAPkC,OAAgB,EAASA,EAAGM,wBACtJ,IAAAF,GAAE,OAAQ,KAAMD,EAAK,IAAmG,QAAhE,QAA5BF,EAAK1C,KAAKO,oBAAiC,IAAPmC,OAAgB,EAASA,EAAGe,yBAAmC,IAAA5E,GAAG,sBAAuB,aAAc,IAAAA,GAAG,2BAA4B,KAAK,IAAAgE,GAAE,iBAAkB,CAAEG,KAA+E,QAAxEL,EAAK3C,gBAAmC,EAASA,KAAKO,oBAAiC,IAAPoC,OAAgB,EAASA,EAAGI,sBAAuBM,KAAM,YAAaJ,MAAO,OAAQC,IAAK,UAAWC,KAAM,aAEtaP,CACT,CACAc,SACE,IAAIxD,EAAIC,EAAIC,EAAIC,EAAIC,EACpB,OAAQ,IAAAuC,GAAE,MAAO,CAAEc,MAAO,yBAA0B,IAAAd,GAAE,UAAW,CAAE3E,MAAO,CAAE,gBAAiB,+BAAkC8B,KAAKC,aAAc,IAAKD,KAAKW,mBAAoB,IAAAkC,GAAE,SAAU,CAAEe,KAAM,UAAW,IAAA/E,GAAG,mBAAoB,eAAe,IAAAgE,GAAE,MAAO,MAAM,IAAAA,GAAE,mBAAoB,CAAEQ,KAAM,WAAY7F,SAAqG,QAA1F2C,EAAkC,QAA5BD,EAAKF,KAAKO,oBAAiC,IAAPL,OAAgB,EAASA,EAAG2D,sBAAmC,IAAP1D,OAAgB,EAASA,EAAG3C,SAAUiB,MAAkG,QAA1F4B,EAAkC,QAA5BD,EAAKJ,KAAKO,oBAAiC,IAAPH,OAAgB,EAASA,EAAGyD,sBAAmC,IAAPxD,OAAgB,EAASA,EAAGyD,eAAiB,KAAK,IAAAR,GAA4C,QAA5BhD,EAAKN,KAAKO,oBAAiC,IAAPD,OAAgB,EAASA,EAAGpB,SAAUc,KAAKiB,kBAAmB,IAAA4B,GAAE,MAAO,KAAM7C,KAAK6B,qBACruB,CACWkC,sBAAa,MAAO,CAC7B,aAAgB,CAAC,4BAChB,GAELnE,EAAsB1B,MAvEW,uGAyEjC,MAEM8F,EAA4B,MAChCnE,YAAYC,IACV,IAAAC,GAAiBC,KAAMF,GAEvBE,KAAK4D,KAAO,SAEZ5D,KAAKiE,MAAO,EAEZjE,KAAKkE,WAAY,CACnB,CACAC,UACE,IAAIjE,EAAIC,EACR,GAAiC,QAA5BD,EAAKF,KAAKO,oBAAiC,IAAPL,OAAgB,EAASA,EAAG4C,qBACnE,MAAO,OAET,OAAQ9C,KAAKuD,SAAwC,QAA5BpD,EAAKH,KAAKO,oBAAiC,IAAPJ,OAAgB,EAASA,EAAGoD,SACvF,IAAK,aAQL,IAAK,WAIL,IAAK,SACH,MAAO,UAXT,IAAK,WACH,MAAO,OACT,IAAK,SAEL,IAAK,YACH,MAAO,UAGT,IAAK,WACH,MAAO,SAIb,CACAa,UACE,IAAIlE,EAAIC,EAAIC,EACZ,IAAkC,QAA5BF,EAAKF,KAAKO,oBAAiC,IAAPL,OAAgB,EAASA,EAAG4C,uBAAyB9C,KAAKO,aAAawC,sBAC/G,OAAQ,IAAAF,GAAE,EAAAwB,EAAU,MAAM,IAAAxF,GAAG,UAAW,YAAa,KAAK,IAAAgE,GAAE,iBAAkB,CAAEQ,KAAM,YAAaL,KAAMhD,KAAKO,aAAawC,sBAAuBE,MAAO,QAASC,IAAK,aAEzK,OAAQlD,KAAKuD,SAAwC,QAA5BpD,EAAKH,KAAKO,oBAAiC,IAAPJ,OAAgB,EAASA,EAAGoD,SACvF,IAAK,aACH,OAAO,IAAA1E,GAAG,aAAc,YAC1B,IAAK,WACH,OAAO,IAAAA,GAAG,WAAY,YACxB,IAAK,SACH,OAAIyF,OAAOC,UAAuC,QAA5BnE,EAAKJ,KAAKO,oBAAiC,IAAPH,OAAgB,EAASA,EAAGqD,yBAC7E,IAAA5E,GAAG,eAAgB,aAErB,IAAAA,GAAG,SAAU,YACtB,IAAK,WACH,OAAO,IAAAA,GAAG,WAAY,YACxB,IAAK,WACH,OAAO,IAAAA,GAAG,WAAY,YACxB,IAAK,YACH,OAAO,IAAAA,GAAG,YAAa,YACzB,IAAK,SACH,OAAO,IAAAA,GAAG,SAAU,YAE1B,CACA6E,SACE,OAAO,IAAAb,GAAE,SAAU,CAAEQ,KAAMrD,KAAKmE,WAAanE,KAAKoE,UACpD,GAEFJ,EAA0B9F,MA/DW,6B","sources":["webpack://sureforms/./node_modules/@surecart/components/dist/esm/price-ca142cc6.js","webpack://sureforms/./node_modules/@surecart/components/dist/esm/sc-subscription-details_2.entry.js"],"sourcesContent":["import { _ as __, s as sprintf, a as _n } from './default-i18n-c67eee5a.js';\n\nconst convertAmount = (amount, currency) => {\n  return ['bif', 'clp', 'djf', 'gnf', 'jpy', 'kmf', 'krw'].includes(currency) ? amount : amount / 100;\n};\nconst getHumanDiscount = (coupon) => {\n  if (coupon.amount_off && coupon.currency) {\n    return getFormattedPrice({ amount: coupon.amount_off, currency: coupon.currency });\n  }\n  if (coupon.percent_off) {\n    // TODO: Translators.\n    return `${coupon.percent_off | 0}% off`;\n  }\n  return '';\n};\nconst getFormattedPrice = ({ amount, currency }) => {\n  const converted = convertAmount(amount, currency);\n  return `${new Intl.NumberFormat(undefined, {\n    style: 'currency',\n    currency: currency,\n  }).format(parseFloat(converted.toFixed(2)))}`;\n};\n// get the currency symbol for a currency code.\nconst getCurrencySymbol = (code = 'usd') => {\n  const [currency] = new Intl.NumberFormat(undefined, {\n    style: 'currency',\n    currency: code,\n  }).formatToParts();\n  return currency === null || currency === void 0 ? void 0 : currency.value;\n};\nconst translateInterval = (amount, interval, prefix = __('every', 'surecart'), fallback = __('once', 'surecart'), showSingle = false) => {\n  switch (interval) {\n    case 'day':\n      return `${prefix} ${sprintf(showSingle ? _n('%d day', '%d days', amount, 'surecart') : _n('day', '%d days', amount, 'surecart'), amount)}`;\n    case 'week':\n      return `${prefix} ${sprintf(showSingle ? _n('%d week', '%d weeks', amount, 'surecart') : _n('week', '%d weeks', amount, 'surecart'), amount)}`;\n    case 'month':\n      return `${prefix} ${sprintf(showSingle ? _n('%d month', '%d months', amount, 'surecart') : _n('month', '%d months', amount, 'surecart'), amount)}`;\n    case 'year':\n      return `${prefix} ${sprintf(showSingle ? _n('%d year', '%d years', amount, 'surecart') : _n('year', '%d years', amount, 'surecart'), amount)}`;\n    default:\n      return fallback;\n  }\n};\nconst intervalString = (price, options = {}) => {\n  if (!price) {\n    return '';\n  }\n  const { showOnce, labels } = options;\n  const { interval = __('every', 'surecart'), period = __('for', 'surecart') } = labels || {};\n  return `${intervalCountString(price, interval, !!showOnce ? __('once', 'surecart') : '')} ${periodCountString(price, period)}`;\n};\nconst intervalCountString = (price, prefix, fallback = __('once', 'surecart')) => {\n  if (!price.recurring_interval_count || !price.recurring_interval) {\n    return '';\n  }\n  return translateInterval(price.recurring_interval_count, price.recurring_interval, ` ${prefix}`, fallback);\n};\nconst periodCountString = (price, prefix, fallback = '') => {\n  if (!(price === null || price === void 0 ? void 0 : price.recurring_period_count) || !(price === null || price === void 0 ? void 0 : price.recurring_interval)) {\n    return '';\n  }\n  return translateInterval(((price === null || price === void 0 ? void 0 : price.recurring_period_count) || 0) * (price === null || price === void 0 ? void 0 : price.recurring_interval_count), price === null || price === void 0 ? void 0 : price.recurring_interval, ` ${prefix}`, fallback, true);\n};\n\nexport { getCurrencySymbol as a, getHumanDiscount as g, intervalString as i, translateInterval as t };\n","import { r as registerInstance, h, F as Fragment } from './index-430bb51b.js';\nimport { _ as __, s as sprintf } from './default-i18n-c67eee5a.js';\nimport { a as apiFetch } from './fetch-d56a3ec0.js';\nimport { i as intervalString } from './price-ca142cc6.js';\nimport { a as addQueryArgs } from './add-query-args-f4c5962b.js';\nimport './_commonjsHelpers-9943807e.js';\n\nconst scSubscriptionDetailsCss = \":host{display:block}.subscription-details{display:grid;gap:0.25em;color:var(--sc-input-label-color)}\";\n\nconst ScSubscriptionDetails = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n  }\n  renderName() {\n    var _a, _b, _c, _d, _e;\n    if (typeof ((_b = (_a = this.subscription) === null || _a === void 0 ? void 0 : _a.price) === null || _b === void 0 ? void 0 : _b.product) !== 'string') {\n      return (_e = (_d = (_c = this.subscription) === null || _c === void 0 ? void 0 : _c.price) === null || _d === void 0 ? void 0 : _d.product) === null || _e === void 0 ? void 0 : _e.name;\n    }\n    return __('Subscription', 'surecart');\n  }\n  async handleSubscriptionChange() {\n    var _a, _b, _c, _d;\n    this.hasPendingUpdate = !!((_b = Object.keys(((_a = this === null || this === void 0 ? void 0 : this.subscription) === null || _a === void 0 ? void 0 : _a.pending_update) || {})) === null || _b === void 0 ? void 0 : _b.length);\n    if (((_d = (_c = this === null || this === void 0 ? void 0 : this.subscription) === null || _c === void 0 ? void 0 : _c.pending_update) === null || _d === void 0 ? void 0 : _d.price) && !(this === null || this === void 0 ? void 0 : this.pendingPrice) && !this.hideRenewalText) {\n      this.pendingPrice = await this.fetchPrice(this.subscription.pending_update.price);\n    }\n  }\n  componentWillLoad() {\n    this.handleSubscriptionChange();\n  }\n  async fetchPrice(price_id) {\n    try {\n      this.loading = true;\n      const price = await apiFetch({\n        path: addQueryArgs(`surecart/v1/prices/${price_id}`, {\n          expand: ['product'],\n        }),\n      });\n      return price;\n    }\n    catch (e) {\n      console.error(e);\n    }\n    finally {\n      this.loading = false;\n    }\n  }\n  renderRenewalText() {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u;\n    const tag = h(\"sc-subscription-status-badge\", { subscription: this === null || this === void 0 ? void 0 : this.subscription });\n    if (((_a = this === null || this === void 0 ? void 0 : this.subscription) === null || _a === void 0 ? void 0 : _a.cancel_at_period_end) && ((_b = this === null || this === void 0 ? void 0 : this.subscription) === null || _b === void 0 ? void 0 : _b.current_period_end_at)) {\n      return (h(\"span\", null, tag, \" \", sprintf(__('Your plan will be canceled on', 'surecart')), ' ', h(\"sc-format-date\", { date: this.subscription.current_period_end_at * 1000, month: \"long\", day: \"numeric\", year: \"numeric\" })));\n    }\n    if (this.hasPendingUpdate) {\n      if (!this.pendingPrice && !((_d = (_c = this.subscription) === null || _c === void 0 ? void 0 : _c.pending_update) === null || _d === void 0 ? void 0 : _d.ad_hoc_amount)) {\n        return h(\"sc-skeleton\", null);\n      }\n      if ((_f = (_e = this.subscription) === null || _e === void 0 ? void 0 : _e.pending_update) === null || _f === void 0 ? void 0 : _f.ad_hoc_amount) {\n        return (h(\"span\", null, __('Your plan switches to', 'surecart'), ' ', h(\"strong\", null, h(\"sc-format-number\", { type: \"currency\", currency: ((_g = this.pendingPrice) === null || _g === void 0 ? void 0 : _g.currency) || ((_j = (_h = this.subscription) === null || _h === void 0 ? void 0 : _h.price) === null || _j === void 0 ? void 0 : _j.currency), value: (_l = (_k = this.subscription) === null || _k === void 0 ? void 0 : _k.pending_update) === null || _l === void 0 ? void 0 : _l.ad_hoc_amount }), ' ', intervalString(this.pendingPrice || ((_m = this.subscription) === null || _m === void 0 ? void 0 : _m.price))), ' ', __('on', 'surecart'), ' ', h(\"sc-format-date\", { date: this.subscription.current_period_end_at, type: \"timestamp\", month: \"long\", day: \"numeric\", year: \"numeric\" })));\n      }\n      return (h(\"span\", null, __('Your plan switches to', 'surecart'), \" \", h(\"strong\", null, this.pendingPrice.product.name), \" \", __('on', 'surecart'), ' ', h(\"sc-format-date\", { date: this.subscription.current_period_end_at, type: \"timestamp\", month: \"long\", day: \"numeric\", year: \"numeric\" })));\n    }\n    if (((_o = this === null || this === void 0 ? void 0 : this.subscription) === null || _o === void 0 ? void 0 : _o.status) === 'trialing' && ((_p = this === null || this === void 0 ? void 0 : this.subscription) === null || _p === void 0 ? void 0 : _p.trial_end_at)) {\n      return (h(\"span\", null, tag, \" \", sprintf(__('Your plan begins on', 'surecart')), ' ', h(\"sc-format-date\", { date: (_q = this === null || this === void 0 ? void 0 : this.subscription) === null || _q === void 0 ? void 0 : _q.trial_end_at, type: \"timestamp\", month: \"long\", day: \"numeric\", year: \"numeric\" })));\n    }\n    if (((_r = this.subscription) === null || _r === void 0 ? void 0 : _r.status) === 'active' && ((_s = this.subscription) === null || _s === void 0 ? void 0 : _s.current_period_end_at)) {\n      return (h(\"span\", null, tag, \" \", ((_t = this.subscription) === null || _t === void 0 ? void 0 : _t.remaining_period_count) === null ? __('Your plan renews on', 'surecart') : __('Your next payment is on'), ' ', h(\"sc-format-date\", { date: (_u = this === null || this === void 0 ? void 0 : this.subscription) === null || _u === void 0 ? void 0 : _u.current_period_end_at, type: \"timestamp\", month: \"long\", day: \"numeric\", year: \"numeric\" })));\n    }\n    return tag;\n  }\n  render() {\n    var _a, _b, _c, _d, _e;\n    return (h(\"div\", { class: \"subscription-details\" }, h(\"sc-text\", { style: { '--font-weight': 'var(--sc-font-weight-bold)' } }, this.renderName(), \" \", this.hasPendingUpdate && h(\"sc-tag\", { size: \"small\" }, __('Update Scheduled', 'surecart'))), h(\"div\", null, h(\"sc-format-number\", { type: \"currency\", currency: (_b = (_a = this.subscription) === null || _a === void 0 ? void 0 : _a.latest_invoice) === null || _b === void 0 ? void 0 : _b.currency, value: (_d = (_c = this.subscription) === null || _c === void 0 ? void 0 : _c.latest_invoice) === null || _d === void 0 ? void 0 : _d.total_amount }), ' ', intervalString((_e = this.subscription) === null || _e === void 0 ? void 0 : _e.price)), !this.hideRenewalText && h(\"div\", null, this.renderRenewalText())));\n  }\n  static get watchers() { return {\n    \"subscription\": [\"handleSubscriptionChange\"]\n  }; }\n};\nScSubscriptionDetails.style = scSubscriptionDetailsCss;\n\nconst scSubscriptionStatusBadgeCss = \":host{display:inline-block}\";\n\nconst ScSubscriptionStatusBadge = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    /** The tag's size. */\n    this.size = 'medium';\n    /** Draws a pill-style tag with rounded edges. */\n    this.pill = false;\n    /** Makes the tag clearable. */\n    this.clearable = false;\n  }\n  getType() {\n    var _a, _b;\n    if ((_a = this.subscription) === null || _a === void 0 ? void 0 : _a.cancel_at_period_end) {\n      return 'info';\n    }\n    switch (this.status || ((_b = this.subscription) === null || _b === void 0 ? void 0 : _b.status)) {\n      case 'incomplete':\n        return 'warning';\n      case 'trialing':\n        return 'info';\n      case 'active':\n        return 'success';\n      case 'completed':\n        return 'success';\n      case 'past_due':\n        return 'warning';\n      case 'canceled':\n        return 'danger';\n      case 'unpaid':\n        return 'warning';\n    }\n  }\n  getText() {\n    var _a, _b, _c;\n    if (((_a = this.subscription) === null || _a === void 0 ? void 0 : _a.cancel_at_period_end) && this.subscription.current_period_end_at) {\n      return (h(Fragment, null, __('Cancels', 'surecart'), \" \", h(\"sc-format-date\", { type: \"timestamp\", date: this.subscription.current_period_end_at, month: \"short\", day: \"numeric\" })));\n    }\n    switch (this.status || ((_b = this.subscription) === null || _b === void 0 ? void 0 : _b.status)) {\n      case 'incomplete':\n        return __('Incomplete', 'surecart');\n      case 'trialing':\n        return __('Trialing', 'surecart');\n      case 'active':\n        if (Number.isInteger((_c = this.subscription) === null || _c === void 0 ? void 0 : _c.remaining_period_count)) {\n          return __('Payment Plan', 'surecart');\n        }\n        return __('Active', 'surecart');\n      case 'past_due':\n        return __('Past Due', 'surecart');\n      case 'canceled':\n        return __('Canceled', 'surecart');\n      case 'completed':\n        return __('Completed', 'surecart');\n      case 'unpaid':\n        return __('Unpaid', 'surecart');\n    }\n  }\n  render() {\n    return h(\"sc-tag\", { type: this.getType() }, this.getText());\n  }\n};\nScSubscriptionStatusBadge.style = scSubscriptionStatusBadgeCss;\n\nexport { ScSubscriptionDetails as sc_subscription_details, ScSubscriptionStatusBadge as sc_subscription_status_badge };\n"],"names":["getHumanDiscount","coupon","amount_off","currency","getFormattedPrice","amount","percent_off","converted","includes","convertAmount","Intl","NumberFormat","undefined","style","format","parseFloat","toFixed","getCurrencySymbol","code","formatToParts","value","translateInterval","interval","prefix","_","fallback","showSingle","s","intervalString","price","options","showOnce","labels","period","intervalCountString","periodCountString","recurring_interval_count","recurring_interval","recurring_period_count","ScSubscriptionDetails","constructor","hostRef","r","this","renderName","_a","_b","_c","_d","_e","subscription","product","name","async","hasPendingUpdate","Object","keys","pending_update","length","pendingPrice","hideRenewalText","fetchPrice","componentWillLoad","handleSubscriptionChange","price_id","loading","a","path","expand","e","console","error","renderRenewalText","_f","_g","_h","_j","_k","_l","_m","_o","_p","_q","_r","_s","_t","_u","tag","h","cancel_at_period_end","current_period_end_at","date","month","day","year","ad_hoc_amount","type","i","status","trial_end_at","remaining_period_count","render","class","size","latest_invoice","total_amount","watchers","ScSubscriptionStatusBadge","pill","clearable","getType","getText","F","Number","isInteger"],"sourceRoot":""}