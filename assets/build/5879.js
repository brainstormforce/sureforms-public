"use strict";(self.webpackChunksureforms=self.webpackChunksureforms||[]).push([[5879],{5358:function(t,e,r){r.d(e,{F:function(){return n},p:function(){return i},r:function(){return s}});class n{constructor(t,e){this.form=null,this.input=t,this.options={form:t=>{var e,r;return(null===(r=null===(e=this.closestElement("sc-form",t))||void 0===e?void 0:e.shadowRoot)||void 0===r?void 0:r.querySelector("form"))||this.closestElement("form",t)},name:t=>t.name,value:t=>t.value,disabled:t=>t.disabled,...e},this.form=this.options.form(this.input),this.handleFormData=this.handleFormData.bind(this)}closestElement(t,e){return e?e&&e!=document&&e!=window&&e.closest(t)||this.closestElement(t,e.getRootNode().host):null}addFormData(){this.form&&this.form.addEventListener("formdata",this.handleFormData)}removeFormData(){this.form&&this.form.removeEventListener("formdata",this.handleFormData)}handleFormData(t){const e=this.options.disabled(this.input),r=this.options.name(this.input),n=this.options.value(this.input);e||"string"!=typeof r||void 0===n||(Array.isArray(n)?n.forEach((e=>{e&&t.formData.append(r,e.toString())})):n&&t.formData.append(r,n.toString()))}}const i=t=>{var e;const{email:r,name:n,password:i,shipping_city:s,shipping_country:o,shipping_line_1:a,shipping_line_2:l,shipping_postal_code:u,shipping_state:c,billing_city:h,billing_country:d,billing_line_1:p,billing_line_2:m,billing_postal_code:f,billing_state:y,"tax_identifier.number_type":v,"tax_identifier.number":g,..._}=t;console.log({data:t});const b={...s?{city:s}:{},...o?{country:o}:{},...a?{line_1:a}:{},...l?{line_2:l}:{},...u?{postal_code:u}:{},...c?{state:c}:{}},w={...h?{city:h}:{},...d?{country:d}:{},...p?{line_1:p}:{},...m?{line_2:m}:{},...f?{postal_code:f}:{},...y?{state:y}:{}};return{...n?{name:n}:{},...r?{email:r}:{},...i?{password:i}:{},...Object.keys(b||{}).length?{shipping_address:b}:{},...Object.keys(w||{}).length?{billing_address:w}:{},...v&&g?{tax_identifier:{number:g,number_type:v}}:{},...(null===(e=Object.keys(_))||void 0===e?void 0:e.length)?{metadata:_}:{}}},s=async t=>{const e=[...t.shadowRoot.querySelectorAll("*")].filter((t=>"function"==typeof t.reportValidity));for(const t of e)if(!await t.reportValidity())return!1;return!0}},3297:function(t,e,r){r.d(e,{a:function(){return o},g:function(){return i},i:function(){return l},t:function(){return a}});var n=r(290);const i=t=>t.amount_off&&t.currency?s({amount:t.amount_off,currency:t.currency}):t.percent_off?(0|t.percent_off)+"% off":"",s=({amount:t,currency:e})=>{const r=((t,e)=>["bif","clp","djf","gnf","jpy","kmf","krw"].includes(e)?t:t/100)(t,e);return`${new Intl.NumberFormat(void 0,{style:"currency",currency:e}).format(parseFloat(r.toFixed(2)))}`},o=(t="usd")=>{const[e]=new Intl.NumberFormat(void 0,{style:"currency",currency:t}).formatToParts();return null==e?void 0:e.value},a=(t,e,r=(0,n._)("every","surecart"),i=(0,n._)("once","surecart"),s=!1)=>{switch(e){case"day":return`${r} ${(0,n.s)(s?(0,n.a)("%d day","%d days",t,"surecart"):(0,n.a)("day","%d days",t,"surecart"),t)}`;case"week":return`${r} ${(0,n.s)(s?(0,n.a)("%d week","%d weeks",t,"surecart"):(0,n.a)("week","%d weeks",t,"surecart"),t)}`;case"month":return`${r} ${(0,n.s)(s?(0,n.a)("%d month","%d months",t,"surecart"):(0,n.a)("month","%d months",t,"surecart"),t)}`;case"year":return`${r} ${(0,n.s)(s?(0,n.a)("%d year","%d years",t,"surecart"):(0,n.a)("year","%d years",t,"surecart"),t)}`;default:return i}},l=(t,e={})=>{if(!t)return"";const{showOnce:r,labels:i}=e,{interval:s=(0,n._)("every","surecart"),period:o=(0,n._)("for","surecart")}=i||{};return`${u(t,s,r?(0,n._)("once","surecart"):"")} ${c(t,o)}`},u=(t,e,r=(0,n._)("once","surecart"))=>t.recurring_interval_count&&t.recurring_interval?a(t.recurring_interval_count,t.recurring_interval,` ${e}`,r):"",c=(t,e,r="")=>(null==t?void 0:t.recurring_period_count)&&(null==t?void 0:t.recurring_interval)?a(((null==t?void 0:t.recurring_period_count)||0)*(null==t?void 0:t.recurring_interval_count),null==t?void 0:t.recurring_interval,` ${e}`,r,!0):""},5879:function(t,e,r){r.r(e),r.d(e,{sc_price_input:function(){return a}});var n=r(6046),i=r(3297),s=r(5358),o=r(5644);r(290),r(5115);const a=class{constructor(t){(0,n.r)(this,t),this.scChange=(0,n.c)(this,"scChange",7),this.size="medium",this.value="",this.pill=!1,this.showLabel=!0,this.help="",this.clearable=!1,this.disabled=!1,this.readonly=!1,this.required=!1,this.invalid=!1}async reportValidity(){return this.scInput.shadowRoot.querySelector("input").reportValidity()}async triggerFocus(t){return this.scInput.triggerFocus(t)}async setCustomValidity(t){this.scInput.setCustomValidity(t)}async triggerBlur(){return this.scInput.blur()}handleFocusChange(){var t,e,r,n;this.hasFocus?null===(e=null===(t=this.scInput)||void 0===t?void 0:t.focus)||void 0===e||e.call(t):null===(n=null===(r=this.scInput)||void 0===r?void 0:r.blur)||void 0===n||n.call(r)}handleChange(){this.updateValue()}handleInput(){this.updateValue()}updateValue(){const t=(0,o.i)(this.currencyCode)?parseFloat(this.scInput.value):(100*parseFloat(this.scInput.value)).toFixed(2);this.value=this.scInput.value?t.toString():""}componentDidLoad(){this.handleFocusChange(),this.formController=new s.F(this.el).addFormData(),document.addEventListener("wheel",(()=>{this.scInput.triggerBlur()}))}disconnectedCallback(){var t;null===(t=this.formController)||void 0===t||t.removeFormData()}render(){return(0,n.h)("div",null,(0,n.h)("sc-input",{size:this.size,label:this.label,showLabel:this.showLabel,help:this.help,ref:t=>this.scInput=t,type:"number",name:this.name,disabled:this.disabled,readonly:this.readonly,required:this.required,placeholder:this.placeholder,minlength:this.minlength,maxlength:this.maxlength,min:this.min?this.min/100:0,step:.001,max:this.max?this.max/100:null,autofocus:this.autofocus,inputmode:"decimal",onScChange:()=>this.handleChange(),onScInput:()=>this.handleInput(),value:(0,o.m)(parseFloat(this.value),this.currencyCode).toString()},(0,n.h)("span",{style:{opacity:"0.5"},slot:"prefix"},(0,i.a)(this.currencyCode)),(0,n.h)("span",{slot:"suffix"},(0,n.h)("slot",{name:"suffix"},this.showCode&&(null==this?void 0:this.currencyCode)&&(0,n.h)("span",{style:{opacity:"0.5"}},this.currencyCode.toUpperCase())))))}get el(){return(0,n.g)(this)}static get watchers(){return{hasFocus:["handleFocusChange"]}}};a.style=":host{display:block}"},5644:function(t,e,r){r.d(e,{i:function(){return i},m:function(){return n}});const n=(t,e)=>i(e)?t:t/100,i=t=>{var e;return["bif","clp","djf","gnf","jpy","kmf","krw"].includes(null===(e=null==t?void 0:t.toLowerCase)||void 0===e?void 0:e.call(t))}}}]);
//# sourceMappingURL=5879.js.map