{"version":3,"file":"4119.js","mappings":"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","sources":["webpack://sureforms/./node_modules/@surecart/components/dist/esm/form-data-955eabfd.js","webpack://sureforms/./node_modules/@surecart/components/dist/esm/sc-switch.entry.js"],"sourcesContent":["class FormSubmitController {\n  constructor(input, options) {\n    this.form = null;\n    this.input = input;\n    this.options = {\n      form: (input) => { var _a, _b; return ((_b = (_a = this.closestElement('sc-form', input)) === null || _a === void 0 ? void 0 : _a.shadowRoot) === null || _b === void 0 ? void 0 : _b.querySelector('form')) || this.closestElement('form', input); },\n      name: (input) => input.name,\n      value: (input) => input.value,\n      disabled: (input) => input.disabled,\n      ...options,\n    };\n    this.form = this.options.form(this.input);\n    this.handleFormData = this.handleFormData.bind(this);\n  }\n  closestElement(selector, el) {\n    if (!el)\n      return null;\n    return (el && el != document && el != window && el.closest(selector)) || this.closestElement(selector, el.getRootNode().host);\n  }\n  addFormData() {\n    if (!this.form)\n      return;\n    this.form.addEventListener('formdata', this.handleFormData);\n  }\n  removeFormData() {\n    if (!this.form)\n      return;\n    this.form.removeEventListener('formdata', this.handleFormData);\n  }\n  handleFormData(event) {\n    const disabled = this.options.disabled(this.input);\n    const name = this.options.name(this.input);\n    const value = this.options.value(this.input);\n    if (!disabled && typeof name === 'string' && typeof value !== 'undefined') {\n      if (Array.isArray(value)) {\n        value.forEach(val => {\n          if (val) {\n            event.formData.append(name, val.toString());\n          }\n        });\n      }\n      else {\n        if (value) {\n          event.formData.append(name, value.toString());\n        }\n      }\n    }\n  }\n}\nconst parseFormData = (data) => {\n  var _a;\n  const { email, name, password, shipping_city, shipping_country, shipping_line_1, shipping_line_2, shipping_postal_code, shipping_state, billing_city, billing_country, billing_line_1, billing_line_2, billing_postal_code, billing_state, 'tax_identifier.number_type': tax_number_type, 'tax_identifier.number': tax_number, ...rest } = data;\n  console.log({ data });\n  const shipping_address = {\n    ...(shipping_city ? { city: shipping_city } : {}),\n    ...(shipping_country ? { country: shipping_country } : {}),\n    ...(shipping_line_1 ? { line_1: shipping_line_1 } : {}),\n    ...(shipping_line_2 ? { line_2: shipping_line_2 } : {}),\n    ...(shipping_postal_code ? { postal_code: shipping_postal_code } : {}),\n    ...(shipping_state ? { state: shipping_state } : {}),\n  };\n  const billing_address = {\n    ...(billing_city ? { city: billing_city } : {}),\n    ...(billing_country ? { country: billing_country } : {}),\n    ...(billing_line_1 ? { line_1: billing_line_1 } : {}),\n    ...(billing_line_2 ? { line_2: billing_line_2 } : {}),\n    ...(billing_postal_code ? { postal_code: billing_postal_code } : {}),\n    ...(billing_state ? { state: billing_state } : {}),\n  };\n  return {\n    ...(name ? { name } : {}),\n    ...(email ? { email } : {}),\n    ...(password ? { password } : {}),\n    ...(Object.keys(shipping_address || {}).length ? { shipping_address } : {}),\n    ...(Object.keys(billing_address || {}).length ? { billing_address } : {}),\n    ...(tax_number_type && tax_number ? { tax_identifier: { number: tax_number, number_type: tax_number_type } } : {}),\n    ...(((_a = Object.keys(rest)) === null || _a === void 0 ? void 0 : _a.length) ? { metadata: rest } : {}),\n  };\n};\nconst reportChildrenValidity = async (element) => {\n  const items = [...element.shadowRoot.querySelectorAll('*')].filter((el) => typeof el.reportValidity === 'function');\n  for (const el of items) {\n    const isValid = await el.reportValidity();\n    if (!isValid) {\n      return false;\n    }\n  }\n  return true;\n};\n\nexport { FormSubmitController as F, parseFormData as p, reportChildrenValidity as r };\n","import { r as registerInstance, c as createEvent, h, g as getElement } from './index-430bb51b.js';\nimport { F as FormSubmitController } from './form-data-955eabfd.js';\n\nconst scSwitchCss = \":host{--height:var(--sc-toggle-size);--thumb-size:calc(var(--sc-toggle-size) - 2px);--width:calc(var(--height) * 2);display:block}.switch{display:inline-flex;align-items:flex-start;font-family:var(--sc-input-font-family);font-size:var(--sc-input-font-size-medium);font-weight:var(--sc-input-font-weight);color:var(--sc-input-color);vertical-align:middle;cursor:pointer}.switch__control{flex:0 0 auto;position:relative;display:inline-flex;align-items:center;justify-content:center;width:var(--width);height:var(--height);background-color:var(--sc-color-gray-300);border:solid var(--sc-input-border-width) var(--sc-color-gray-300);border-radius:var(--height);transition:var(--sc-transition-fast) border-color, var(--sc-transition-fast) background-color}.switch__control .switch__thumb{width:var(--thumb-size);height:var(--thumb-size);background-color:var(--sc-color-white);border-radius:50%;border:solid var(--sc-input-border-width) var(--sc-input-border-color);transform:translateX(calc(var(--width) / -2 + var(--thumb-size) / 2 - (var(--thumb-size) - var(--height)) / 2));transition:var(--sc-transition-fast) transform ease, var(--sc-transition-fast) background-color, var(--sc-transition-fast) border-color, var(--sc-transition-fast) box-shadow}.switch__control input[type=checkbox]{position:absolute;opacity:0;padding:0;margin:0;pointer-events:none}.switch:not(.switch--checked):not(.switch--disabled) .switch__control:hover{background-color:var(--sc-color-gray-200);border-color:var(--sc-color-gray-200)}.switch:not(.switch--checked):not(.switch--disabled) .switch__control:hover .switch__thumb{background-color:var(--sc-color-white);border-color:var(--sc-input-border-color)}.switch.switch--focused:not(.switch--checked):not(.switch--disabled) .switch__control{background-color:var(--sc-color-gray-200);border-color:var(--sc-color-gray-200)}.switch.switch--focused:not(.switch--checked):not(.switch--disabled) .switch__control .switch__thumb{background-color:var(--sc-color-white);border-color:var(--sc-color-gray-300);box-shadow:0 0 0 1px var(--sc-color-gray-300)}.switch--checked .switch__control{background-color:var(--sc-color-primary-500);border-color:var(--sc-color-primary-500)}.switch--checked .switch__control .switch__thumb{background-color:var(--sc-color-white);border-color:var(--sc-color-primary-500);transform:translateX(calc(var(--width) / 2 - var(--thumb-size) / 2 + (var(--thumb-size) - var(--height)) / 2))}.switch.switch--checked:not(.switch--disabled) .switch__control:hover{opacity:0.8}.switch.switch--checked:not(.switch--disabled) .switch__control:hover .switch__thumb{background-color:var(--sc-color-white);border-color:var(--sc-color-primary-500)}.switch.switch--checked:not(.switch--disabled).switch--focused .switch__control .switch__thumb{background-color:var(--sc-color-white);border-color:var(--sc-color-primary-500);box-shadow:0 0 0 1px var(--sc-focus-ring-color-primary)}.switch--disabled{opacity:0.5;cursor:not-allowed}.switch__label{margin-left:0.7em;user-select:none;line-height:var(--height)}.switch--is-required .switch__title:after{content:\\\" *\\\";color:var(--sc-color-danger-500)}.switch__title{color:var(--sc-input-label-color);font-weight:var(--sc-input-label-font-weight);font-size:var(--sc-input-label-font-size-medium)}.switch__description{display:block;color:var(--sc-color-gray-500);line-height:1em;margin:0.5em 0 0;font-size:var(--sc-font-size-small)}slot[name=description]::slotted(*){margin:0.75em 0;line-height:1em;vertical-align:center}\";\n\nlet id = 0;\nconst ScSwitch = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.scBlur = createEvent(this, \"scBlur\", 7);\n    this.scChange = createEvent(this, \"scChange\", 7);\n    this.scFocus = createEvent(this, \"scFocus\", 7);\n    this.switchId = `switch-${++id}`;\n    this.labelId = `switch-label-${id}`;\n    this.hasFocus = false;\n    /** Disables the switch. */\n    this.disabled = false;\n    /** Makes the switch a required field. */\n    this.required = false;\n    /** Draws the switch in a checked state. */\n    this.checked = false;\n    /** This will be true when the control is in an invalid state. Validity is determined by the `required` prop. */\n    this.invalid = false;\n  }\n  /** Checks for validity and shows the browser's validation message if the control is invalid. */\n  async reportValidity() {\n    this.invalid = !this.input.checkValidity();\n    return this.input.reportValidity();\n  }\n  handleClick() {\n    this.checked = !this.checked;\n    this.scChange.emit();\n  }\n  handleBlur() {\n    this.hasFocus = false;\n    this.scBlur.emit();\n  }\n  handleFocus() {\n    this.hasFocus = true;\n    this.scFocus.emit();\n  }\n  handleKeyDown(event) {\n    if (event.key === 'ArrowLeft') {\n      event.preventDefault();\n      this.checked = false;\n      this.scChange.emit();\n    }\n    if (event.key === 'ArrowRight') {\n      event.preventDefault();\n      this.checked = true;\n      this.scChange.emit();\n    }\n  }\n  handleMouseDown(event) {\n    // Prevent clicks on the label from briefly blurring the input\n    event.preventDefault();\n    this.input.focus();\n  }\n  handleCheckedChange() {\n    if (this.input) {\n      this.input.checked = this.checked;\n      this.invalid = !this.input.checkValidity();\n    }\n  }\n  componentDidLoad() {\n    this.formController = new FormSubmitController(this.el, {\n      value: (control) => (control.checked ? control.value : undefined),\n    }).addFormData();\n  }\n  disconnectedCallback() {\n    var _a;\n    (_a = this.formController) === null || _a === void 0 ? void 0 : _a.removeFormData();\n  }\n  render() {\n    return (h(\"label\", { part: \"base\", htmlFor: this.switchId, class: {\n        'switch': true,\n        'switch--is-required': this.required,\n        'switch--checked': this.checked,\n        'switch--disabled': this.disabled,\n        'switch--focused': this.hasFocus,\n      }, onMouseDown: e => this.handleMouseDown(e) }, h(\"span\", { part: \"control\", class: \"switch__control\" }, h(\"span\", { part: \"thumb\", class: \"switch__thumb\" }), h(\"input\", { ref: el => (this.input = el), id: this.switchId, type: \"checkbox\", role: \"switch\", name: this.name, value: this.value || 'on', checked: this.checked, disabled: this.disabled, required: this.required, \"aria-checked\": this.checked ? 'true' : 'false', \"aria-labelledby\": this.labelId, onClick: () => this.handleClick(), onBlur: () => this.handleBlur(), onFocus: () => this.handleFocus(), onKeyDown: e => this.handleKeyDown(e) })), h(\"span\", { class: \"switch__label\" }, h(\"span\", { part: \"title\", id: this.labelId, class: \"switch__title\" }, h(\"slot\", null)), h(\"span\", { class: \"switch__description\", part: \"description\" }, h(\"slot\", { name: \"description\" })))));\n  }\n  get el() { return getElement(this); }\n  static get watchers() { return {\n    \"checked\": [\"handleCheckedChange\"]\n  }; }\n};\nScSwitch.style = scSwitchCss;\n\nexport { ScSwitch as sc_switch };\n"],"names":["FormSubmitController","constructor","input","options","this","form","_a","_b","closestElement","shadowRoot","querySelector","name","value","disabled","handleFormData","bind","selector","el","document","window","closest","getRootNode","host","addFormData","addEventListener","removeFormData","removeEventListener","event","Array","isArray","forEach","val","formData","append","toString","parseFormData","data","email","password","shipping_city","shipping_country","shipping_line_1","shipping_line_2","shipping_postal_code","shipping_state","billing_city","billing_country","billing_line_1","billing_line_2","billing_postal_code","billing_state","tax_number_type","tax_number","rest","console","log","shipping_address","city","country","line_1","line_2","postal_code","state","billing_address","Object","keys","length","tax_identifier","number","number_type","metadata","reportChildrenValidity","async","element","items","querySelectorAll","filter","reportValidity","id","ScSwitch","hostRef","r","scBlur","c","scChange","scFocus","switchId","labelId","hasFocus","required","checked","invalid","checkValidity","handleClick","emit","handleBlur","handleFocus","handleKeyDown","key","preventDefault","handleMouseDown","focus","handleCheckedChange","componentDidLoad","formController","F","control","undefined","disconnectedCallback","render","h","part","htmlFor","class","onMouseDown","e","ref","type","role","onClick","onBlur","onFocus","onKeyDown","g","watchers","style"],"sourceRoot":""}