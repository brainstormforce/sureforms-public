function initializeUploadField(){var e=document.getElementsByClassName("srfm-upload-container");if(e)for(const a of e){const l=a.querySelector(".srfm-upload-size"),f=a.querySelector(".srfm-upload-field");f.addEventListener("change",e=>{const r=e.target.id.split("-")[2],i=e.target.files[0];var s=a.querySelector(".srfm-error-message"),s=(s&&(s.style.display="none"),1024*parseInt(l.value)*1024);if(i)if(i.size>s)e.target.value="",a.querySelector("#srfm-upload-field-error-"+r).removeAttribute("hidden");else{a.querySelector("#srfm-upload-field-error-"+r).setAttribute("hidden",!0);const t=20<i.name.length?i.name.substring(0,17)+"..."+i.name.split(".").pop():i.name;s=a.classList.contains("srfm-classic-inputs-holder");s||(a.querySelector("#srfm-upload-title-"+r).innerHTML=`<div class="srfm-text-primary srfm-flex srfm-items-center srfm-gap-[10px]">
                            <i class="fa-solid fa-file-lines srfm-text-primary"></i> `+t+" "+(i.size/1e6).toFixed(2)+'MB <i class="fa-sharp fa-solid fa-trash-can srfm-text-primary srfm-cursor-pointer" id="srfm-reset-upload-field"></i></div>'),s&&((e=new FileReader).onload=function(e){var e=e.target.result,e=["image/jpeg","image/png","image/gif","image/bmp","image/tiff","image/webp","image/svg+xml","image/heif","image/x-icon"].includes(i.type)?`<img class="srfm-rounded-md" src="${e}" height="50px" width="50px"/>`:'<div class="srfm-text-gray-300 srfm-text-[35px]"><i class="fa-solid fa-file-lines"></i></div>',s=a.querySelector("#srfm-upload-field-result-"+r);s.innerHTML=`<div class="srfm-text-primary srfm-w-full srfm-flex srfm-gap-2 srfm-p-[10px]">
                                    ${e}
                                    <div class="srfm-w-full srfm-flex srfm-justify-between">
                                        <div>
                                            <div class="srfm-text-base">${t}</div>
                                            <div class="srfm-text-sm srfm-text-gray-500"> ${(i.size/1e6).toFixed(2)}MB</div>
                                        </div>
                                        <div>
                                              <i class="fa-sharp fa-solid fa-trash-can srfm-text-gray-400 srfm-cursor-pointer" id="srfm-reset-upload-field"></i>
                                        </div>
                                    </div>
                                </div>`,s.style.display="flex",a.querySelector("#srfm-reset-upload-field").addEventListener("click",()=>{f.value="",a.querySelector("#srfm-upload-field-result-"+r).style.display="none"})},e.readAsDataURL(i))}})}}document.addEventListener("DOMContentLoaded",initializeUploadField);