function initializeUploadField(){var e=document.getElementsByClassName("srfm-upload-container");if(e)for(const a of e){const l=a.querySelector(".srfm-upload-size"),d=a.querySelector(".srfm-upload-field");d&&d.addEventListener("change",e=>{const i=e.target.id.split("-")[2],r=e.target.files[0];var s=a.querySelector(".srfm-error-message"),s=(s&&(s.style.display="none"),1024*parseInt(l.value)*1024);if(r)if(r.size>s)e.target.value="",a.querySelector("#srfm-upload-field-error-"+i).removeAttribute("hidden");else{a.querySelector("#srfm-upload-field-error-"+i).setAttribute("hidden",!0);const t=20<r.name.length?r.name.substring(0,17)+"..."+r.name.split(".").pop():r.name;s=a.classList.contains("srfm-classic-inputs-holder");s||(a.querySelector("#srfm-upload-title-"+i).innerHTML=`<div class="srfm-text-primary" style="display:flex; gap:0.4rem; align-items:center">
                                <i class="fa-solid fa-file-lines srfm-text-primary"></i> `+t+" "+(r.size/1e6).toFixed(2)+'MB <i class="fa-sharp fa-solid fa-trash-can srfm-text-primary" id="srfm-reset-upload-field" style="cursor:pointer"></i></div>'),s&&((e=new FileReader).onload=function(e){var e=e.target.result,e=["image/jpeg","image/png","image/gif","image/bmp","image/tiff","image/webp","image/svg+xml","image/heif","image/x-icon"].includes(r.type)?`<img class="srfm-rounded-md" src="${e}" height="50px" width="50px"/>`:'<div style="font-size:35px" class="srfm-text-gray-300"><i class="fa-solid fa-file-lines"></i></div>',s=a.querySelector("#srfm-upload-field-result-"+i),e=(s.innerHTML=`<div class="srfm-text-primary srfm-w-full srfm-flex srfm-gap-2 srfm-p-[10px]">
                                        ${e}
                                        <div class="srfm-w-full srfm-flex srfm-justify-between">
                                            <div>
                                                <div class="srfm-text-base">${t}</div>
                                                <div class="srfm-text-sm srfm-text-gray-500"> ${(r.size/1e6).toFixed(2)}MB</div>
                                            </div>
                                            <div>
                                                  <i class="fa-sharp fa-solid fa-trash-can srfm-text-gray-400" id="srfm-reset-upload-field" style="cursor:pointer"></i>
                                            </div>
                                        </div>
                                    </div>`,s&&(s.style.display="flex"),a.querySelector("#srfm-reset-upload-field"));e&&e.addEventListener("click",()=>{d.value="";var e=a.querySelector("#srfm-upload-field-result-"+i);e&&(e.style.display="none")})},e.readAsDataURL(r))}})}}document.addEventListener("DOMContentLoaded",initializeUploadField);