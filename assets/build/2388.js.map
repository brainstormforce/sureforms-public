{"version":3,"file":"2388.js","mappings":"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","sources":["webpack://sureforms/./node_modules/@surecart/components-react/node_modules/@surecart/components/dist/esm/animation-registry-e97b1b9d.js","webpack://sureforms/./node_modules/@surecart/components-react/node_modules/@surecart/components/dist/esm/consumer-1db89974.js","webpack://sureforms/./node_modules/@surecart/components-react/node_modules/@surecart/components/dist/esm/sc-order-summary.entry.js"],"sourcesContent":["//\n// Animates an element using keyframes. Returns a promise that resolves after the animation completes or gets canceled.\n//\nfunction animateTo(el, keyframes, options) {\n  return new Promise(resolve => {\n    if ((options === null || options === void 0 ? void 0 : options.duration) === Infinity) {\n      throw new Error('Promise-based animations must be finite.');\n    }\n    const animation = el.animate(keyframes, {\n      ...options,\n      duration: prefersReducedMotion() ? 0 : options.duration,\n    });\n    animation.addEventListener('cancel', resolve, { once: true });\n    animation.addEventListener('finish', resolve, { once: true });\n  });\n}\n//\n// Tells if the user has enabled the \"reduced motion\" setting in their browser or OS.\n//\nfunction prefersReducedMotion() {\n  const query = window.matchMedia('(prefers-reduced-motion: reduce)');\n  return query.matches;\n}\n//\n// Stops all active animations on the target element. Returns a promise that resolves after all animations are canceled.\n//\nfunction stopAnimations(el) {\n  var _a;\n  return Promise.all((((_a = el === null || el === void 0 ? void 0 : el.getAnimations) === null || _a === void 0 ? void 0 : _a.call(el)) || []).map(animation => {\n    return new Promise(resolve => {\n      const handleAnimationEvent = requestAnimationFrame(resolve);\n      animation.addEventListener('cancel', () => handleAnimationEvent, { once: true });\n      animation.addEventListener('finish', () => handleAnimationEvent, { once: true });\n      animation.cancel();\n    });\n  }));\n}\n// We can't animate `height: auto`, but we can calculate the height and shim keyframes by replacing it with the\n// element's scrollHeight before the animation.\nfunction shimKeyframesHeightAuto(keyframes, calculatedHeight) {\n  return keyframes.map(keyframe => ({\n    ...keyframe,\n    height: keyframe.height === 'auto' ? `${calculatedHeight}px` : keyframe.height,\n  }));\n}\n\nconst defaultAnimationRegistry = new Map();\nconst customAnimationRegistry = new WeakMap();\nfunction ensureAnimation(animation) {\n  return animation !== null && animation !== void 0 ? animation : { keyframes: [], options: { duration: 0 } };\n}\n//\n// Sets a default animation. Components should use the `name.animation` for primary animations and `name.part.animation`\n// for secondary animations, e.g. `dialog.show` and `dialog.overlay.show`. For modifiers, use `drawer.showTop`.\n//\nfunction setDefaultAnimation(animationName, animation) {\n  defaultAnimationRegistry.set(animationName, ensureAnimation(animation));\n}\n//\n// Gets an element's animation. Falls back to the default if no animation is found.\n//\nfunction getAnimation(el, animationName) {\n  const customAnimation = customAnimationRegistry.get(el);\n  // Check for a custom animation\n  if (customAnimation === null || customAnimation === void 0 ? void 0 : customAnimation[animationName]) {\n    return customAnimation[animationName];\n  }\n  // Check for a default animation\n  const defaultAnimation = defaultAnimationRegistry.get(animationName);\n  if (defaultAnimation) {\n    return defaultAnimation;\n  }\n  // Fall back to an empty animation\n  return {\n    keyframes: [],\n    options: { duration: 0 },\n  };\n}\n\nexport { animateTo as a, setDefaultAnimation as b, shimKeyframesHeightAuto as c, getAnimation as g, stopAnimations as s };\n","import { g as getElement } from './index-430bb51b.js';\n\nvar createDeferredPromise = function () {\n    var resolve;\n    var promise = new Promise(function (res) { resolve = res; });\n    return { promise: promise, resolve: resolve };\n};\n\nvar openWormhole = function (Component, props, isBlocking) {\n    if (isBlocking === void 0) { isBlocking = true; }\n    var isConstructor = (Component.constructor.name === 'Function');\n    var Proto = isConstructor ? Component.prototype : Component;\n    var componentWillLoad = Proto.componentWillLoad;\n    Proto.componentWillLoad = function () {\n        var _this = this;\n        var el = getElement(this);\n        var onOpen = createDeferredPromise();\n        var event = new CustomEvent('openWormhole', {\n            bubbles: true,\n            composed: true,\n            detail: {\n                consumer: this,\n                fields: props,\n                updater: function (prop, value) {\n                    var target = (prop in el) ? el : _this;\n                    target[prop] = value;\n                },\n                onOpen: onOpen,\n            },\n        });\n        el.dispatchEvent(event);\n        var willLoad = function () {\n            if (componentWillLoad) {\n                return componentWillLoad.call(_this);\n            }\n        };\n        return isBlocking ? onOpen.promise.then(function () { return willLoad(); }) : (willLoad());\n    };\n};\n\nexport { openWormhole as o };\n","import { r as registerInstance, c as createEvent, h, g as getElement } from './index-430bb51b.js';\nimport { _ as __ } from './default-i18n-c67eee5a.js';\nimport { o as openWormhole } from './consumer-1db89974.js';\nimport { s as stopAnimations, g as getAnimation, a as animateTo, c as shimKeyframesHeightAuto, b as setDefaultAnimation } from './animation-registry-e97b1b9d.js';\nimport './_commonjsHelpers-9943807e.js';\n\nconst scOrderSummaryCss = \":host{display:block;font-family:var(--sc-font-sans);font-size:var(--sc-checkout-font-size, 16px)}.collapse-link{display:flex;align-items:center;gap:0.35em}.summary__content--empty{display:none}.collapse-link__icon{width:18px;height:18px;color:var(--sc-color-gray-500)}.item__product+.item__product{margin-top:20px}.empty{color:var(--sc-color-gray-500)}.summary{position:relative;user-select:none;cursor:pointer}.summary .collapse-link__icon{transition:transform 0.25s ease-in-out}.summary--open .collapse-link__icon{transform:rotate(180deg)}::slotted(*){margin:4px 0 !important}::slotted(sc-divider){margin:16px 0 !important}sc-line-item~sc-line-item{margin-top:14px}\";\n\nconst ScOrderSummary = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.scShow = createEvent(this, \"scShow\", 7);\n    this.scHide = createEvent(this, \"scHide\", 7);\n    this.closedText = __('Show Summary', 'surecart');\n    this.openText = __('Summary', 'surecart');\n    this.collapsible = false;\n  }\n  componentDidLoad() {\n    this.body.hidden = this.collapsed;\n    this.body.style.height = !this.collapsed ? 'auto' : '0';\n  }\n  handleClick(e) {\n    e.preventDefault();\n    if (this.empty && !this.loading)\n      return;\n    this.collapsed = !this.collapsed;\n  }\n  renderHeader() {\n    // loading state\n    if (this.loading) {\n      return (h(\"sc-line-item\", null, h(\"sc-skeleton\", { slot: \"title\", style: { width: '120px', display: 'inline-block' } }), h(\"sc-skeleton\", { slot: \"price\", style: { 'width': '70px', 'display': 'inline-block', '--border-radius': '6px' } }), h(\"sc-skeleton\", { slot: \"currency\", style: { width: '30px', display: 'inline-block' } })));\n    }\n    return (h(\"sc-line-item\", { style: { '--price-size': 'var(--sc-font-size-x-large)' } }, h(\"span\", { class: \"collapse-link\", slot: \"title\", onClick: e => this.handleClick(e) }, this.collapsed ? this.closedText : this.openText, h(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", class: \"collapse-link__icon\", fill: \"none\", viewBox: \"0 0 24 24\", stroke: \"currentColor\" }, h(\"path\", { \"stroke-linecap\": \"round\", \"stroke-linejoin\": \"round\", \"stroke-width\": \"2\", d: \"M19 9l-7 7-7-7\" }))), h(\"span\", { slot: \"description\" }, h(\"slot\", { name: \"description\" })), h(\"span\", { slot: \"price\" }, h(\"sc-total\", { total: 'total', order: this.order }))));\n  }\n  async handleOpenChange() {\n    if (!this.collapsed) {\n      this.scShow.emit();\n      await stopAnimations(this.body);\n      this.body.hidden = false;\n      const { keyframes, options } = getAnimation(this.el, 'summary.show');\n      await animateTo(this.body, shimKeyframesHeightAuto(keyframes, this.body.scrollHeight), options);\n      this.body.style.height = 'auto';\n    }\n    else {\n      this.scHide.emit();\n      await stopAnimations(this.body);\n      const { keyframes, options } = getAnimation(this.el, 'summary.hide');\n      await animateTo(this.body, shimKeyframesHeightAuto(keyframes, this.body.scrollHeight), options);\n      this.body.hidden = true;\n      this.body.style.height = 'auto';\n    }\n  }\n  render() {\n    return (h(\"div\", { class: { 'summary': true, 'summary--open': !this.collapsed } }, this.collapsible && this.renderHeader(), h(\"div\", { ref: el => (this.body = el), class: {\n        'summary__content': true,\n        'summary__content--empty': this.empty && !this.loading,\n      } }, h(\"slot\", null)), this.empty && !this.loading && h(\"p\", { class: \"empty\" }, __('Your cart is empty.', 'surecart'))));\n  }\n  get el() { return getElement(this); }\n  static get watchers() { return {\n    \"collapsed\": [\"handleOpenChange\"]\n  }; }\n};\nsetDefaultAnimation('summary.show', {\n  keyframes: [\n    { height: '0', opacity: '0' },\n    { height: 'auto', opacity: '1' },\n  ],\n  options: { duration: 250, easing: 'ease' },\n});\nsetDefaultAnimation('summary.hide', {\n  keyframes: [\n    { height: 'auto', opacity: '1' },\n    { height: '0', opacity: '0' },\n  ],\n  options: { duration: 250, easing: 'ease' },\n});\nopenWormhole(ScOrderSummary, ['order', 'loading', 'empty'], false);\nScOrderSummary.style = scOrderSummaryCss;\n\nexport { ScOrderSummary as sc_order_summary };\n"],"names":["animateTo","el","keyframes","options","Promise","resolve","duration","Infinity","Error","animation","animate","window","matchMedia","matches","addEventListener","once","stopAnimations","_a","all","getAnimations","call","map","handleAnimationEvent","requestAnimationFrame","cancel","shimKeyframesHeightAuto","calculatedHeight","keyframe","height","defaultAnimationRegistry","Map","customAnimationRegistry","WeakMap","setDefaultAnimation","animationName","set","ensureAnimation","getAnimation","customAnimation","get","openWormhole","Component","props","isBlocking","Proto","constructor","name","prototype","componentWillLoad","_this","this","g","onOpen","promise","res","event","CustomEvent","bubbles","composed","detail","consumer","fields","updater","prop","value","dispatchEvent","willLoad","then","ScOrderSummary","hostRef","r","scShow","c","scHide","closedText","_","openText","collapsible","componentDidLoad","body","hidden","collapsed","style","handleClick","e","preventDefault","empty","loading","renderHeader","h","slot","width","display","class","onClick","xmlns","fill","viewBox","stroke","d","total","order","async","emit","s","a","scrollHeight","render","ref","watchers","opacity","easing","o"],"sourceRoot":""}