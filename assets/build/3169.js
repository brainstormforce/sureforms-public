"use strict";(self.webpackChunksureforms=self.webpackChunksureforms||[]).push([[3169],{2538:function(r,t,e){function n(r){let t="";const e=Object.entries(r);let n;for(;n=e.shift();){let[r,c]=n;if(Array.isArray(c)||c&&c.constructor===Object){const t=Object.entries(c).reverse();for(const[n,c]of t)e.unshift([`${r}[${n}]`,c])}else void 0!==c&&(null===c&&(c=""),t+="&"+[r,c].map(encodeURIComponent).join("="))}return t.substr(1)}function c(r){return(function(r){let t;try{t=new URL(r,"http://example.com").search.substring(1)}catch(r){}if(t)return t}(r)||"").replace(/\+/g,"%20").split("&").reduce(((r,t)=>{const[e,n=""]=t.split("=").filter(Boolean).map(decodeURIComponent);return e&&function(r,t,e){const n=t.length,c=n-1;for(let u=0;u<n;u++){let n=t[u];!n&&Array.isArray(r)&&(n=r.length.toString());const s=!isNaN(Number(t[u+1]));r[n]=u===c?e:r[n]||(s?[]:{}),Array.isArray(r[n])&&!s&&(r[n]={...r[n]}),r=r[n]}}(r,e.replace(/\]/g,"").split("["),n),r}),{})}function u(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if(!t||!Object.keys(t).length)return r;let e=r;const u=r.indexOf("?");return-1!==u&&(t=Object.assign(c(r),t),e=e.substr(0,u)),e+"?"+n(t)}e.d(t,{a:function(){return u},b:function(){return n},g:function(){return c}})},5241:function(r,t,e){e.d(t,{a:function(){return s},g:function(){return c},i:function(){return a},t:function(){return o}});var n=e(9988);const c=r=>r.amount_off&&r.currency?u({amount:r.amount_off,currency:r.currency}):r.percent_off?(0|r.percent_off)+"% off":"",u=({amount:r,currency:t})=>{const e=((r,t)=>["bif","clp","djf","gnf","jpy","kmf","krw"].includes(t)?r:r/100)(r,t);return`${new Intl.NumberFormat(void 0,{style:"currency",currency:t}).format(parseFloat(e.toFixed(2)))}`},s=(r="usd")=>{const[t]=new Intl.NumberFormat(void 0,{style:"currency",currency:r}).formatToParts();return null==t?void 0:t.value},o=(r,t,e=(0,n._)("every","surecart"),c=(0,n._)("once","surecart"),u=!1)=>{switch(t){case"day":return`${e} ${(0,n.s)(u?(0,n.a)("%d day","%d days",r,"surecart"):(0,n.a)("day","%d days",r,"surecart"),r)}`;case"week":return`${e} ${(0,n.s)(u?(0,n.a)("%d week","%d weeks",r,"surecart"):(0,n.a)("week","%d weeks",r,"surecart"),r)}`;case"month":return`${e} ${(0,n.s)(u?(0,n.a)("%d month","%d months",r,"surecart"):(0,n.a)("month","%d months",r,"surecart"),r)}`;case"year":return`${e} ${(0,n.s)(u?(0,n.a)("%d year","%d years",r,"surecart"):(0,n.a)("year","%d years",r,"surecart"),r)}`;default:return c}},a=(r,t={})=>{if(!r)return"";const{showOnce:e,labels:c}=t,{interval:u=(0,n._)("every","surecart"),period:s=(0,n._)("for","surecart")}=c||{};return`${i(r,u,e?(0,n._)("once","surecart"):"")} ${l(r,s)}`},i=(r,t,e=(0,n._)("once","surecart"))=>r.recurring_interval_count&&r.recurring_interval?o(r.recurring_interval_count,r.recurring_interval,` ${t}`,e):"",l=(r,t,e="")=>(null==r?void 0:r.recurring_period_count)&&(null==r?void 0:r.recurring_interval)?o(((null==r?void 0:r.recurring_period_count)||0)*(null==r?void 0:r.recurring_interval_count),null==r?void 0:r.recurring_interval,` ${t}`,e,!0):""},3169:function(r,t,e){e.r(t),e.d(t,{sc_subscription_ad_hoc_confirm:function(){return o}});var n=e(7492),c=e(9988),u=e(5241),s=e(2538);e(7094);const o=class{constructor(r){(0,n.r)(this,r),this.busy=!1}async handleSubmit(r){const{ad_hoc_amount:t}=await r.target.getFormJson();return this.busy=!0,window.location.assign((0,s.a)(window.location.href,{action:"confirm",ad_hoc_amount:t}))}render(){return(0,n.h)("sc-dashboard-module",{heading:this.heading||(0,c._)("Enter An Amount","surecart"),class:"subscription-switch"},(0,n.h)("sc-card",null,(0,n.h)("sc-form",{onScSubmit:r=>this.handleSubmit(r)},(0,n.h)("sc-price-input",{label:"Amount",name:"ad_hoc_amount",autofocus:!0,required:!0},(0,n.h)("span",{slot:"suffix",style:{opacity:"0.75"}},(0,u.i)(this.price))),(0,n.h)("sc-button",{type:"primary",full:!0,submit:!0,loading:this.busy},(0,c._)("Next","surecart")," ",(0,n.h)("sc-icon",{name:"arrow-right",slot:"suffix"})))),this.busy&&(0,n.h)("sc-block-ui",{style:{zIndex:"9"}}))}};o.style=":host{display:block}"}}]);
//# sourceMappingURL=3169.js.map