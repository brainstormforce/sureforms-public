function exportForm(e){const t=new XMLHttpRequest;t.open("POST",sureforms_export.ajaxurl,!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.onload=function(){var e,o;200<=t.status&&t.status<400?(e=JSON.parse(t.responseText),(o=document.createElement("a")).href="data:application/json,"+encodeURIComponent(JSON.stringify(e)),o.download="sureforms-export-form.json",o.click()):console.log("Server Error!")},t.onerror=function(){console.log("Connection Error!")},t.send(`action=export_form&post_id=${e}&nonce=`+sureforms_export.srfm_export_nonce)}function bulkExport(){var e=document.querySelector("#doaction");const t=document.querySelector("#bulk-action-selector-top");e&&t&&e.addEventListener("click",e=>{if("export"===t.value){e.preventDefault();e=document.querySelectorAll("#the-list input[type=checkbox]");const o=[];e.forEach(e=>{e.checked&&o.push(e.value)}),0<o.length&&exportForm(o)}})}document.addEventListener("DOMContentLoaded",bulkExport);let data;function handleFileChange(e){var e=e.target.files[0],o=new FileReader;o.onload=e=>{e=JSON.parse(e.target.result),data=e,e=document.querySelector("#import-form-submit");e&&e.removeAttribute("disabled")},o.readAsText(e)}const handleImportForm=()=>{var e,o;data&&(e=sureforms_export.site_url,o=sureforms_export.srfm_import_endpoint,fetch(e+o,{method:"POST",body:JSON.stringify(data),headers:{"Content-Type":"application/json"}}).then(e=>{var o;if(console.log({response:e}),e.ok)return(o=document.querySelector("#srfm-import-error"))&&(o.style.display="none"),window.location.reload(),e;throw new Error("HTTP error! Status: "+e.status)}).catch(e=>{var o=document.querySelector("#srfm-import-error");o&&(o.style.display="block"),console.log(e)}))};function importForm(){var e=document.querySelector(".srfm-import-btn");const o=document.querySelector(".srfm-import-wrap");var t=document.querySelector("#import-form-submit");e&&e.addEventListener("click",()=>{o&&(o.style.display="block")}),t&&t.addEventListener("click",e=>{e.preventDefault(),handleImportForm()})}document.addEventListener("DOMContentLoaded",importForm);