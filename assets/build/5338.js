"use strict";(self.webpackChunksureforms=self.webpackChunksureforms||[]).push([[5338],{8578:function(t,e,s){s.d(e,{o:function(){return n}});var i=s(6046),n=function(t,e,s){void 0===s&&(s=!0);var n="Function"===t.constructor.name?t.prototype:t,r=n.componentWillLoad;n.componentWillLoad=function(){var t,n=this,a=(0,i.g)(this),o={promise:new Promise((function(e){t=e})),resolve:t},c=new CustomEvent("openWormhole",{bubbles:!0,composed:!0,detail:{consumer:this,fields:e,updater:function(t,e){(t in a?a:n)[t]=e},onOpen:o}});a.dispatchEvent(c);var u=function(){if(r)return r.call(n)};return s?o.promise.then((function(){return u()})):u()}}},4920:function(t,e,s){s.d(e,{c:function(){return c},e:function(){return a},f:function(){return u}});var i=s(712),n=s(8517);const r="surecart/v1/orders/",a=["line_items","line_item.price","price.product","customer","customer.shipping_address","payment_intent","discount","discount.promotion","discount.coupon","shipping_address","tax_identifier"],o=(t,e="")=>{let s=t?`${r}${t}`:r;return s=`${s}${e}`,(0,n.a)(s,{expand:a})},c=async({id:t,data:e,query:s={}})=>await(0,i.a)({method:t?"PATCH":"POST",path:(0,n.a)(o(t),s),data:e}),u=async({id:t,data:e={},query:s={},processor:r})=>await(0,i.a)({method:"POST",path:(0,n.a)(o(t,"/finalize/"),{processor_type:r,...s}),data:e})},5338:function(t,e,s){s.r(e),s.d(e,{sc_customer_name:function(){return a}});var i=s(6046),n=s(4920),r=s(8578);s(712),s(290),s(5115);const a=class{constructor(t){(0,i.r)(this,t),this.scChange=(0,i.c)(this,"scChange",7),this.scUpdateOrderState=(0,i.c)(this,"scUpdateOrderState",7),this.scClear=(0,i.c)(this,"scClear",7),this.scInput=(0,i.c)(this,"scInput",7),this.scFocus=(0,i.c)(this,"scFocus",7),this.scBlur=(0,i.c)(this,"scBlur",7),this.scUpdateCustomer=(0,i.c)(this,"scUpdateCustomer",7),this.size="medium",this.value="",this.pill=!1,this.showLabel=!0,this.help="",this.disabled=!1,this.readonly=!1,this.required=!1,this.invalid=!1}async reportValidity(){return this.input.reportValidity()}async handleChange(){var t;this.value=this.input.value;try{const e=await(0,n.c)({id:null===(t=this.order)||void 0===t?void 0:t.id,data:{name:this.input.value}});this.scUpdateOrderState.emit(e)}catch(t){console.error(t)}}handleSessionChange(t){t.name&&t.name!==this.value&&(this.value=t.name)}render(){var t;return(0,i.h)("sc-input",{type:"text",name:"name",ref:t=>this.input=t,value:(null===(t=this.customer)||void 0===t?void 0:t.name)||this.value,disabled:!!this.loggedIn,label:this.label,help:this.help,autocomplete:"name",placeholder:this.placeholder,readonly:this.readonly,required:this.required,invalid:this.invalid,autofocus:this.autofocus,hasFocus:this.hasFocus,onScChange:()=>this.handleChange(),onScInput:()=>this.scInput.emit(),onScFocus:()=>this.scFocus.emit(),onScBlur:()=>this.scBlur.emit()})}static get watchers(){return{order:["handleSessionChange"]}}};(0,r.o)(a,["order","customer"],!1)}}]);