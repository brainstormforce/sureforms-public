{"version":3,"file":"5556.js","mappings":"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","sources":["webpack://sureforms/./node_modules/@surecart/components/dist/esm/sc-customer-edit.entry.js"],"sourcesContent":["import { r as registerInstance, h } from './index-430bb51b.js';\nimport { _ as __ } from './default-i18n-c67eee5a.js';\nimport { a as apiFetch } from './fetch-d56a3ec0.js';\nimport { a as addQueryArgs } from './add-query-args-f4c5962b.js';\nimport './_commonjsHelpers-9943807e.js';\n\nconst scCustomerEditCss = \":host{display:block;position:relative}.customer-edit{display:grid;gap:0.75em}\";\n\nconst ScCustomerEdit = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n  }\n  async handleSubmit(e) {\n    var _a;\n    this.loading = true;\n    try {\n      const { email, name, phone, billing_matches_shipping, shipping_name, shipping_city, 'tax_identifier.number_type': tax_identifier_number_type, 'tax_identifier.number': tax_identifier_number, shipping_country, shipping_line_1, shipping_postal_code, shipping_state, billing_name, billing_city, billing_country, billing_line_1, billing_postal_code, billing_state, } = await e.target.getFormJson();\n      await apiFetch({\n        path: addQueryArgs(`surecart/v1/customers/${(_a = this.customer) === null || _a === void 0 ? void 0 : _a.id}`, { expand: ['tax_identifier'] }),\n        method: 'PATCH',\n        data: {\n          email,\n          name,\n          phone,\n          billing_matches_shipping: billing_matches_shipping === 'on',\n          shipping_address: {\n            name: shipping_name,\n            city: shipping_city,\n            country: shipping_country,\n            line_1: shipping_line_1,\n            postal_code: shipping_postal_code,\n            state: shipping_state,\n          },\n          billing_address: {\n            name: billing_name,\n            city: billing_city,\n            country: billing_country,\n            line_1: billing_line_1,\n            postal_code: billing_postal_code,\n            state: billing_state,\n          },\n          ...(tax_identifier_number && tax_identifier_number_type\n            ? {\n              tax_identifier: {\n                number: tax_identifier_number,\n                number_type: tax_identifier_number_type,\n              },\n            }\n            : {}),\n        },\n      });\n      if (this.successUrl) {\n        window.location.assign(this.successUrl);\n      }\n      else {\n        this.loading = false;\n      }\n    }\n    catch (e) {\n      this.error = (e === null || e === void 0 ? void 0 : e.message) || __('Something went wrong', 'surecart');\n      this.loading = false;\n    }\n  }\n  render() {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n    return (h(\"sc-dashboard-module\", { class: \"customer-edit\", error: this.error }, h(\"span\", { slot: \"heading\" }, this.heading || __('Update Billing Details', 'surecart'), ' ', !((_a = this === null || this === void 0 ? void 0 : this.customer) === null || _a === void 0 ? void 0 : _a.live_mode) && (h(\"sc-tag\", { type: \"warning\", size: \"small\" }, __('Test', 'surecart')))), h(\"sc-card\", null, h(\"sc-form\", { onScFormSubmit: e => this.handleSubmit(e) }, h(\"sc-input\", { label: __('Billing Email', 'surecart'), name: \"email\", value: (_b = this.customer) === null || _b === void 0 ? void 0 : _b.email, required: true }), h(\"sc-columns\", { style: { '--sc-column-spacing': 'var(--sc-spacing-medium)' } }, h(\"sc-column\", null, h(\"sc-input\", { label: __('Name', 'surecart'), name: \"name\", value: (_c = this.customer) === null || _c === void 0 ? void 0 : _c.name })), h(\"sc-column\", null, h(\"sc-input\", { label: __('Phone', 'surecart'), name: \"phone\", value: (_d = this.customer) === null || _d === void 0 ? void 0 : _d.phone }))), h(\"div\", null, h(\"sc-address\", { label: __('Shipping Address', 'surecart'), showName: true, address: {\n        ...(_e = this.customer) === null || _e === void 0 ? void 0 : _e.shipping_address,\n      }, required: false, names: {\n        name: 'shipping_name',\n        country: 'shipping_country',\n        line_1: 'shipping_line_1',\n        line_2: 'shipping_line_2',\n        city: 'shipping_city',\n        postal_code: 'shipping_postal_code',\n        state: 'shipping_state',\n      } })), h(\"div\", null, h(\"sc-switch\", { name: \"billing_matches_shipping\", checked: (_f = this.customer) === null || _f === void 0 ? void 0 : _f.billing_matches_shipping, onScChange: e => {\n        this.customer = {\n          ...this.customer,\n          billing_matches_shipping: e.target.checked,\n        };\n      }, value: \"on\" }, __('Billing address same as shipping', 'surecart'))), h(\"div\", { style: { display: ((_g = this.customer) === null || _g === void 0 ? void 0 : _g.billing_matches_shipping) ? 'none' : 'block' } }, h(\"sc-address\", { label: __('Billing Address', 'surecart'), showName: true, address: {\n        ...(_h = this.customer) === null || _h === void 0 ? void 0 : _h.billing_address,\n      }, names: {\n        name: 'billing_name',\n        country: 'billing_country',\n        line_1: 'billing_line_1',\n        line_2: 'billing_line_2',\n        city: 'billing_city',\n        postal_code: 'billing_postal_code',\n        state: 'billing_state',\n      }, required: false })), h(\"sc-tax-id-input\", { show: true, number: (_k = (_j = this.customer) === null || _j === void 0 ? void 0 : _j.tax_identifier) === null || _k === void 0 ? void 0 : _k.number, type: (_m = (_l = this.customer) === null || _l === void 0 ? void 0 : _l.tax_identifier) === null || _m === void 0 ? void 0 : _m.number_type }), h(\"div\", null, h(\"sc-button\", { type: \"primary\", full: true, submit: true }, __('Save', 'surecart'))))), this.loading && h(\"sc-block-ui\", { spinner: true })));\n  }\n};\nScCustomerEdit.style = scCustomerEditCss;\n\nexport { ScCustomerEdit as sc_customer_edit };\n"],"names":["ScCustomerEdit","constructor","hostRef","r","this","async","e","_a","loading","email","name","phone","billing_matches_shipping","shipping_name","shipping_city","tax_identifier_number_type","tax_identifier_number","shipping_country","shipping_line_1","shipping_postal_code","shipping_state","billing_name","billing_city","billing_country","billing_line_1","billing_postal_code","billing_state","target","getFormJson","a","path","customer","id","expand","method","data","shipping_address","city","country","line_1","postal_code","state","billing_address","tax_identifier","number","number_type","successUrl","window","location","assign","error","message","_","render","_b","_c","_d","_e","_f","_g","_h","_j","_k","_l","_m","h","class","slot","heading","live_mode","type","size","onScFormSubmit","handleSubmit","label","value","required","style","showName","address","names","line_2","checked","onScChange","display","show","full","submit","spinner"],"sourceRoot":""}