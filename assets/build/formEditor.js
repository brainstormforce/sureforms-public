!function(){"use strict";var e=window.wp.element,o=window.wp.plugins,r=window.wp.editPost,s=window.wp.components,t=window.wp.i18n,n=window.wp.blockEditor,l=window.wp.data,a=window.wp.editor;const m=["image"],c={_sureforms_color1:"#000000",_sureforms_color2:"#dddddd",_sureforms_fontsize:20,_sureforms_bg:""};var u=function(){const{editPost:o}=(0,l.useDispatch)(a.store);let r=(0,l.useSelect)((e=>e(a.store).getEditedPostAttribute("meta")));const u=document.documentElement;function _(e,r){let s=0,t="";"_sureforms_bg"===e&&(r&&(s=r.id,r=r.sizes.full.url),t=e+"_id",u.style.setProperty("--sureforms_bg",r?"url("+r+")":"none")),"_sureforms_color1"===e&&u.style.setProperty("--sureforms_col1",r||"none"),"_sureforms_color2"===e&&u.style.setProperty("--sureforms_col2",r||"none"),"_sureforms_fontsize"===e&&u.style.setProperty("--sureforms_fontsize",r?r+"px":"none");const n={};t&&(n[t]=s),n[e]=r,o({meta:n})}return r?"_sureforms_color1"in r&&(r._sureforms_color1||(r=c,o({meta:r})),u.style.setProperty("--sureforms_bg",r._sureforms_bg?"url("+r._sureforms_bg+")":"none"),u.style.setProperty("--sureforms_col1",r._sureforms_color1?r._sureforms_color1:"none"),u.style.setProperty("--sureforms_col2",r._sureforms_color2?r._sureforms_color2:"none"),u.style.setProperty("--sureforms_fontsize",r._sureforms_fontsize?r._sureforms_fontsize+"px":"none")):(r=c,o({meta:r})),(0,e.createElement)(s.PanelBody,null,(0,e.createElement)(s.PanelRow,{className:"sureforms_colorpicker"},(0,e.createElement)(s.BaseControl,{id:"sureforms-primary-color",label:(0,t.__)("Primary color","sureforms"),help:(0,t.__)("Labels, Borders, Button, etc.","sureforms")},(0,e.createElement)(s.Dropdown,{className:"components-color-palette__item-wrapper components-color-palette__custom-color components-circular-option-picker__option-wrapper",contentClassName:"components-color-palette__picker",renderToggle:o=>{let{isOpen:s,onToggle:t}=o;return(0,e.createElement)("button",{style:{background:r._sureforms_color1},type:"button","aria-expanded":s,className:"components-color-palette__item components-circular-option-picker__option",onClick:t})},renderContent:()=>(0,e.createElement)(s.ColorPicker,{color:r._sureforms_color1,onChangeComplete:e=>_("_sureforms_color1",e.hex),disableAlpha:!0})})),(0,e.createElement)(s.BaseControl,{id:"sureforms-secondary-color",label:(0,t.__)("Secondary color","sureforms"),help:(0,t.__)("Help, Placeholders, etc.","sureforms")},(0,e.createElement)(s.Dropdown,{className:"components-color-palette__item-wrapper components-color-palette__custom-color components-circular-option-picker__option-wrapper",contentClassName:"components-color-palette__picker",renderToggle:o=>{let{isOpen:s,onToggle:t}=o;return(0,e.createElement)("button",{style:{background:r._sureforms_color2},type:"button","aria-expanded":s,className:"components-color-palette__item components-circular-option-picker__option",onClick:t})},renderContent:()=>(0,e.createElement)(s.ColorPicker,{color:r._sureforms_color2,onChangeComplete:e=>_("_sureforms_color2",e.hex),disableAlpha:!0})}))),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{id:"sureforms-background-image",label:(0,t.__)("Background image","sureforms")},(0,e.createElement)(n.MediaUpload,{onSelect:e=>_("_sureforms_bg",e),value:r._sureforms_bg,allowedTypes:m,render:o=>{let{open:n}=o;return(0,e.createElement)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",gap:"30px"}},(0,e.createElement)(s.Button,{className:"sureforms-background-image__toggle",onClick:n},r._sureforms_bg?(0,e.createElement)("img",{src:r._sureforms_bg,alt:""}):"",r._sureforms_bg?"":(0,t.__)("Set a background image","sureforms")),r._sureforms_bg?(0,e.createElement)(s.Button,{onClick:()=>_("_sureforms_bg",""),isDestructive:!0},(0,t.__)("Remove background image","sureforms")):"")}}))),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{id:"sureforms-font-size",label:(0,t.__)("Font size","sureforms"),help:(0,t.__)("Customize the form font size.","sureforms")},(0,e.createElement)(s.RangeControl,{value:r._sureforms_fontsize,onChange:e=>_("_sureforms_fontsize",e),min:16,max:24,beforeIcon:"editor-textcolor",afterIcon:"editor-textcolor"}))))},_=function(){const{editPost:o}=(0,l.useDispatch)(a.store),r={_sureforms_thankyou_message:"Form submitted successfully!",_sureforms_email:sfBlockData.admin_email,_sureforms_submit_type:"message",_sureforms_submit_url:""};let n=(0,l.useSelect)((e=>e(a.store).getEditedPostAttribute("meta")));const[m,c]=(0,e.useState)(!1),u=wp.data.select("core/editor").getCurrentPostId();function _(e,r){const s={};s[e]=r,o({meta:s})}return(0,e.useEffect)((()=>{n?"_sureforms_email"in n&&""===n._sureforms_email&&(n=r,o({meta:n})):(n=r,o({meta:n}))}),[]),(0,e.createElement)(s.PanelBody,{style:{display:"flex",flexDirection:"column"}},(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{id:"sureforms-admin-email",label:(0,t.__)("Customize the email address on which you want to send the notifications","sureforms"),help:(0,t.__)("Please add the emails separated by , if you want to send emails to multiple email addresses","sureforms")},(0,e.createElement)(s.TextControl,{value:n._sureforms_email,placeholder:(0,t.__)("E-mail address","sureforms"),onChange:e=>{_("_sureforms_email",e)}}))),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{id:"sureforms-submit-type",label:(0,t.__)("Turn toggle on to redirect to a URL","sureforms")},(0,e.createElement)(s.ToggleControl,{label:"url"===n._sureforms_submit_type?(0,t.__)("Redirect","sureforms"):(0,t.__)("Message","sureforms"),checked:"url"===n._sureforms_submit_type,onChange:e=>{_("_sureforms_submit_type",e?"url":"message")}}))),(0,e.createElement)(s.PanelRow,null,"message"===n._sureforms_submit_type?(0,e.createElement)(s.BaseControl,{id:"sureforms-success-message",label:(0,t.__)("Customize the Successfull Form Submission message","sureforms")},(0,e.createElement)(s.TextareaControl,{placeholder:(0,t.__)("Form submitted successfully.","sureforms"),value:n._sureforms_thankyou_message,onChange:e=>{_("_sureforms_thankyou_message",e)}})):(0,e.createElement)(s.BaseControl,{id:"sureforms-redirect",label:(0,t.__)("Customize the Thankyou page URL","sureforms")},(0,e.createElement)(s.TextControl,{value:n._sureforms_submit_url,onChange:e=>{_("_sureforms_submit_url",e)}}))),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.BaseControl,{id:"sureforms-form-shortcode",label:(0,t.__)("Form Shortcode","sureforms"),help:(0,t.__)("Paste this shortcode on the page or post to render this form.","sureforms")},(0,e.createElement)("div",{className:"sureforms-shortcode"},(0,e.createElement)(s.TextControl,{value:`[sureforms id="${u}"]`,disabled:!0}),(0,e.createElement)(s.ClipboardButton,{onCopy:()=>c(!0),onFinishCopy:()=>c(!1),icon:m?"yes":"admin-page",text:`[sureforms id="${u}"]`})))))};const i=()=>{};(0,o.registerPlugin)("plugin-document-setting-panel-demo",{render:()=>(0,e.createElement)(r.PluginDocumentSettingPanel,{className:"sureforms--panel",name:"sureforms-sidebar",title:(0,t.__)("Form Options","sureforms"),icon:""},(0,e.createElement)(s.TabPanel,{activeClass:"active",onSelect:i,tabs:[{name:"sureforms-appearance",title:"Appearance",className:"components-panel__body-toggle"},{name:"sureforms-settings",title:"Settings",className:"components-panel__body-toggle sureforms-toggle-settings"}]},(o=>{switch(o.title){case"Appearance":default:return(0,e.createElement)(u,null);case"Settings":return(0,e.createElement)(_,null)}}))),icon:"palmtree"})}();
