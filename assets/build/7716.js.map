{"version":3,"file":"7716.js","mappings":"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","sources":["webpack://sureforms/./node_modules/@surecart/components-react/node_modules/@surecart/components/dist/esm/consumer-1db89974.js","webpack://sureforms/./node_modules/@surecart/components-react/node_modules/@surecart/components/dist/esm/index-e534c726.js","webpack://sureforms/./node_modules/@surecart/components-react/node_modules/@surecart/components/dist/esm/price-ca142cc6.js","webpack://sureforms/./node_modules/@surecart/components-react/node_modules/@surecart/components/dist/esm/sc-order-confirmation-line-items.entry.js"],"sourcesContent":["import { g as getElement } from './index-430bb51b.js';\n\nvar createDeferredPromise = function () {\n    var resolve;\n    var promise = new Promise(function (res) { resolve = res; });\n    return { promise: promise, resolve: resolve };\n};\n\nvar openWormhole = function (Component, props, isBlocking) {\n    if (isBlocking === void 0) { isBlocking = true; }\n    var isConstructor = (Component.constructor.name === 'Function');\n    var Proto = isConstructor ? Component.prototype : Component;\n    var componentWillLoad = Proto.componentWillLoad;\n    Proto.componentWillLoad = function () {\n        var _this = this;\n        var el = getElement(this);\n        var onOpen = createDeferredPromise();\n        var event = new CustomEvent('openWormhole', {\n            bubbles: true,\n            composed: true,\n            detail: {\n                consumer: this,\n                fields: props,\n                updater: function (prop, value) {\n                    var target = (prop in el) ? el : _this;\n                    target[prop] = value;\n                },\n                onOpen: onOpen,\n            },\n        });\n        el.dispatchEvent(event);\n        var willLoad = function () {\n            if (componentWillLoad) {\n                return componentWillLoad.call(_this);\n            }\n        };\n        return isBlocking ? onOpen.promise.then(function () { return willLoad(); }) : (willLoad());\n    };\n};\n\nexport { openWormhole as o };\n","const convertLineItemsToLineItemData = (lineItems) => {\n  return ((lineItems === null || lineItems === void 0 ? void 0 : lineItems.data) || []).map(item => {\n    return {\n      price_id: item.price.id,\n      quantity: item.quantity,\n    };\n  });\n};\n/**\n * Get price ids from line items\n * @param order\n * @returns\n */\nconst getLineItemPriceIds = (line_items) => {\n  return ((line_items === null || line_items === void 0 ? void 0 : line_items.data) || []).map(item => item.price.id);\n};\n/**\n * Is the price in a checkout session\n */\nconst isPriceInOrder = (price, order) => {\n  const priceIds = getLineItemPriceIds(order === null || order === void 0 ? void 0 : order.line_items);\n  return !!priceIds.find(id => (price === null || price === void 0 ? void 0 : price.id) === id);\n};\n/** Check if the order has a subscription */\nconst hasSubscription = (order) => {\n  var _a, _b, _c;\n  // no line items.\n  if (!((_b = (_a = order === null || order === void 0 ? void 0 : order.line_items) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.length))\n    return false;\n  // has subscription product.\n  return (_c = order === null || order === void 0 ? void 0 : order.line_items.data) === null || _c === void 0 ? void 0 : _c.some(item => { var _a; return (_a = item === null || item === void 0 ? void 0 : item.price) === null || _a === void 0 ? void 0 : _a.recurring_interval_count; });\n};\n/** Check if the order has a payment plan. */\nconst hasPaymentPlan = (order) => {\n  var _a;\n  return hasSubscription(order) && ((_a = order === null || order === void 0 ? void 0 : order.line_items.data) === null || _a === void 0 ? void 0 : _a.some(item => { var _a; return (_a = item === null || item === void 0 ? void 0 : item.price) === null || _a === void 0 ? void 0 : _a.recurring_period_count; }));\n};\n\nexport { hasPaymentPlan as a, convertLineItemsToLineItemData as c, hasSubscription as h, isPriceInOrder as i };\n","import { _ as __, s as sprintf, a as _n } from './default-i18n-c67eee5a.js';\n\nconst convertAmount = (amount, currency) => {\n  return ['bif', 'clp', 'djf', 'gnf', 'jpy', 'kmf', 'krw'].includes(currency) ? amount : amount / 100;\n};\nconst getHumanDiscount = (coupon) => {\n  if (coupon.amount_off && coupon.currency) {\n    return getFormattedPrice({ amount: coupon.amount_off, currency: coupon.currency });\n  }\n  if (coupon.percent_off) {\n    // TODO: Translators.\n    return `${coupon.percent_off | 0}% off`;\n  }\n  return '';\n};\nconst getFormattedPrice = ({ amount, currency }) => {\n  const converted = convertAmount(amount, currency);\n  return `${new Intl.NumberFormat(undefined, {\n    style: 'currency',\n    currency: currency,\n  }).format(parseFloat(converted.toFixed(2)))}`;\n};\n// get the currency symbol for a currency code.\nconst getCurrencySymbol = (code = 'usd') => {\n  const [currency] = new Intl.NumberFormat(undefined, {\n    style: 'currency',\n    currency: code,\n  }).formatToParts();\n  return currency === null || currency === void 0 ? void 0 : currency.value;\n};\nconst translateInterval = (amount, interval, prefix = __('every', 'surecart'), fallback = __('once', 'surecart'), showSingle = false) => {\n  switch (interval) {\n    case 'day':\n      return `${prefix} ${sprintf(showSingle ? _n('%d day', '%d days', amount, 'surecart') : _n('day', '%d days', amount, 'surecart'), amount)}`;\n    case 'week':\n      return `${prefix} ${sprintf(showSingle ? _n('%d week', '%d weeks', amount, 'surecart') : _n('week', '%d weeks', amount, 'surecart'), amount)}`;\n    case 'month':\n      return `${prefix} ${sprintf(showSingle ? _n('%d month', '%d months', amount, 'surecart') : _n('month', '%d months', amount, 'surecart'), amount)}`;\n    case 'year':\n      return `${prefix} ${sprintf(showSingle ? _n('%d year', '%d years', amount, 'surecart') : _n('year', '%d years', amount, 'surecart'), amount)}`;\n    default:\n      return fallback;\n  }\n};\nconst intervalString = (price, options = {}) => {\n  if (!price) {\n    return '';\n  }\n  const { showOnce, labels } = options;\n  const { interval = __('every', 'surecart'), period = __('for', 'surecart') } = labels || {};\n  return `${intervalCountString(price, interval, !!showOnce ? __('once', 'surecart') : '')} ${periodCountString(price, period)}`;\n};\nconst intervalCountString = (price, prefix, fallback = __('once', 'surecart')) => {\n  if (!price.recurring_interval_count || !price.recurring_interval) {\n    return '';\n  }\n  return translateInterval(price.recurring_interval_count, price.recurring_interval, ` ${prefix}`, fallback);\n};\nconst periodCountString = (price, prefix, fallback = '') => {\n  if (!(price === null || price === void 0 ? void 0 : price.recurring_period_count) || !(price === null || price === void 0 ? void 0 : price.recurring_interval)) {\n    return '';\n  }\n  return translateInterval(((price === null || price === void 0 ? void 0 : price.recurring_period_count) || 0) * (price === null || price === void 0 ? void 0 : price.recurring_interval_count), price === null || price === void 0 ? void 0 : price.recurring_interval, ` ${prefix}`, fallback, true);\n};\n\nexport { getCurrencySymbol as a, getHumanDiscount as g, intervalString as i, translateInterval as t };\n","import { r as registerInstance, h } from './index-430bb51b.js';\nimport { o as openWormhole } from './consumer-1db89974.js';\nimport { h as hasSubscription } from './index-e534c726.js';\nimport { i as intervalString } from './price-ca142cc6.js';\nimport './default-i18n-c67eee5a.js';\nimport './_commonjsHelpers-9943807e.js';\n\nconst scOrderConfirmationLineItemsCss = \":host{display:block}.line-items{display:grid;gap:var(--sc-spacing-small)}::part(line-items){display:grid;gap:var(--sc-spacing-small)}\";\n\nconst ScOrderConfirmationLineItems = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n  }\n  render() {\n    var _a, _b;\n    if (!!this.loading) {\n      return (h(\"sc-line-item\", null, h(\"sc-skeleton\", { style: { 'width': '50px', 'height': '50px', '--border-radius': '0' }, slot: \"image\" }), h(\"sc-skeleton\", { slot: \"title\", style: { width: '120px', display: 'inline-block' } }), h(\"sc-skeleton\", { slot: \"description\", style: { width: '60px', display: 'inline-block' } }), h(\"sc-skeleton\", { style: { width: '120px', display: 'inline-block' }, slot: \"price\" }), h(\"sc-skeleton\", { style: { width: '60px', display: 'inline-block' }, slot: \"price-description\" })));\n    }\n    return (h(\"div\", { class: { 'confirmation-summary': true } }, h(\"div\", { class: \"line-items\", part: \"line-items\" }, (_b = (_a = this.order) === null || _a === void 0 ? void 0 : _a.line_items) === null || _b === void 0 ? void 0 : _b.data.map(item => {\n      var _a, _b, _c, _d, _e, _f;\n      return (h(\"sc-product-line-item\", { key: item.id, imageUrl: (_b = (_a = item === null || item === void 0 ? void 0 : item.price) === null || _a === void 0 ? void 0 : _a.product) === null || _b === void 0 ? void 0 : _b.image_url, name: `${(_d = (_c = item === null || item === void 0 ? void 0 : item.price) === null || _c === void 0 ? void 0 : _c.product) === null || _d === void 0 ? void 0 : _d.name}`, editable: false, removable: false, quantity: item.quantity, amount: item.ad_hoc_amount !== null ? item.ad_hoc_amount : item.price.amount, currency: (_e = this.order) === null || _e === void 0 ? void 0 : _e.currency, trialDurationDays: (_f = item === null || item === void 0 ? void 0 : item.price) === null || _f === void 0 ? void 0 : _f.trial_duration_days, interval: intervalString(item === null || item === void 0 ? void 0 : item.price, { showOnce: hasSubscription(this.order) }) }));\n    }))));\n  }\n};\nopenWormhole(ScOrderConfirmationLineItems, ['order', 'busy', 'loading', 'empty'], false);\nScOrderConfirmationLineItems.style = scOrderConfirmationLineItemsCss;\n\nexport { ScOrderConfirmationLineItems as sc_order_confirmation_line_items };\n"],"names":["openWormhole","Component","props","isBlocking","Proto","constructor","name","prototype","componentWillLoad","resolve","_this","this","el","g","onOpen","promise","Promise","res","event","CustomEvent","bubbles","composed","detail","consumer","fields","updater","prop","value","dispatchEvent","willLoad","call","then","convertLineItemsToLineItemData","lineItems","data","map","item","price_id","price","id","quantity","isPriceInOrder","order","line_items","find","hasSubscription","_a","_b","_c","length","some","recurring_interval_count","hasPaymentPlan","recurring_period_count","getHumanDiscount","coupon","amount_off","currency","getFormattedPrice","amount","percent_off","converted","includes","convertAmount","Intl","NumberFormat","undefined","style","format","parseFloat","toFixed","getCurrencySymbol","code","formatToParts","translateInterval","interval","prefix","_","fallback","showSingle","s","intervalString","options","showOnce","labels","period","intervalCountString","periodCountString","recurring_interval","ScOrderConfirmationLineItems","hostRef","r","render","loading","h","slot","width","display","class","part","_d","_e","_f","key","imageUrl","product","image_url","editable","removable","ad_hoc_amount","trialDurationDays","trial_duration_days","i","o"],"sourceRoot":""}