{"version":3,"file":"9161.js","mappings":"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","sources":["webpack://sureforms/./node_modules/@surecart/components/dist/esm/consumer-1db89974.js","webpack://sureforms/./node_modules/@surecart/components/dist/esm/price-ca142cc6.js","webpack://sureforms/./node_modules/@surecart/components/dist/esm/sc-order-confirmation-totals.entry.js"],"sourcesContent":["import { g as getElement } from './index-430bb51b.js';\n\nvar createDeferredPromise = function () {\n    var resolve;\n    var promise = new Promise(function (res) { resolve = res; });\n    return { promise: promise, resolve: resolve };\n};\n\nvar openWormhole = function (Component, props, isBlocking) {\n    if (isBlocking === void 0) { isBlocking = true; }\n    var isConstructor = (Component.constructor.name === 'Function');\n    var Proto = isConstructor ? Component.prototype : Component;\n    var componentWillLoad = Proto.componentWillLoad;\n    Proto.componentWillLoad = function () {\n        var _this = this;\n        var el = getElement(this);\n        var onOpen = createDeferredPromise();\n        var event = new CustomEvent('openWormhole', {\n            bubbles: true,\n            composed: true,\n            detail: {\n                consumer: this,\n                fields: props,\n                updater: function (prop, value) {\n                    var target = (prop in el) ? el : _this;\n                    target[prop] = value;\n                },\n                onOpen: onOpen,\n            },\n        });\n        el.dispatchEvent(event);\n        var willLoad = function () {\n            if (componentWillLoad) {\n                return componentWillLoad.call(_this);\n            }\n        };\n        return isBlocking ? onOpen.promise.then(function () { return willLoad(); }) : (willLoad());\n    };\n};\n\nexport { openWormhole as o };\n","import { _ as __, s as sprintf, a as _n } from './default-i18n-c67eee5a.js';\n\nconst convertAmount = (amount, currency) => {\n  return ['bif', 'clp', 'djf', 'gnf', 'jpy', 'kmf', 'krw'].includes(currency) ? amount : amount / 100;\n};\nconst getHumanDiscount = (coupon) => {\n  if (coupon.amount_off && coupon.currency) {\n    return getFormattedPrice({ amount: coupon.amount_off, currency: coupon.currency });\n  }\n  if (coupon.percent_off) {\n    // TODO: Translators.\n    return `${coupon.percent_off | 0}% off`;\n  }\n  return '';\n};\nconst getFormattedPrice = ({ amount, currency }) => {\n  const converted = convertAmount(amount, currency);\n  return `${new Intl.NumberFormat(undefined, {\n    style: 'currency',\n    currency: currency,\n  }).format(parseFloat(converted.toFixed(2)))}`;\n};\n// get the currency symbol for a currency code.\nconst getCurrencySymbol = (code = 'usd') => {\n  const [currency] = new Intl.NumberFormat(undefined, {\n    style: 'currency',\n    currency: code,\n  }).formatToParts();\n  return currency === null || currency === void 0 ? void 0 : currency.value;\n};\nconst translateInterval = (amount, interval, prefix = __('every', 'surecart'), fallback = __('once', 'surecart'), showSingle = false) => {\n  switch (interval) {\n    case 'day':\n      return `${prefix} ${sprintf(showSingle ? _n('%d day', '%d days', amount, 'surecart') : _n('day', '%d days', amount, 'surecart'), amount)}`;\n    case 'week':\n      return `${prefix} ${sprintf(showSingle ? _n('%d week', '%d weeks', amount, 'surecart') : _n('week', '%d weeks', amount, 'surecart'), amount)}`;\n    case 'month':\n      return `${prefix} ${sprintf(showSingle ? _n('%d month', '%d months', amount, 'surecart') : _n('month', '%d months', amount, 'surecart'), amount)}`;\n    case 'year':\n      return `${prefix} ${sprintf(showSingle ? _n('%d year', '%d years', amount, 'surecart') : _n('year', '%d years', amount, 'surecart'), amount)}`;\n    default:\n      return fallback;\n  }\n};\nconst intervalString = (price, options = {}) => {\n  if (!price) {\n    return '';\n  }\n  const { showOnce, labels } = options;\n  const { interval = __('every', 'surecart'), period = __('for', 'surecart') } = labels || {};\n  return `${intervalCountString(price, interval, !!showOnce ? __('once', 'surecart') : '')} ${periodCountString(price, period)}`;\n};\nconst intervalCountString = (price, prefix, fallback = __('once', 'surecart')) => {\n  if (!price.recurring_interval_count || !price.recurring_interval) {\n    return '';\n  }\n  return translateInterval(price.recurring_interval_count, price.recurring_interval, ` ${prefix}`, fallback);\n};\nconst periodCountString = (price, prefix, fallback = '') => {\n  if (!(price === null || price === void 0 ? void 0 : price.recurring_period_count) || !(price === null || price === void 0 ? void 0 : price.recurring_interval)) {\n    return '';\n  }\n  return translateInterval(((price === null || price === void 0 ? void 0 : price.recurring_period_count) || 0) * (price === null || price === void 0 ? void 0 : price.recurring_interval_count), price === null || price === void 0 ? void 0 : price.recurring_interval, ` ${prefix}`, fallback, true);\n};\n\nexport { getCurrencySymbol as a, getHumanDiscount as g, intervalString as i, translateInterval as t };\n","import { r as registerInstance, h } from './index-430bb51b.js';\nimport { g as getHumanDiscount } from './price-ca142cc6.js';\nimport { _ as __ } from './default-i18n-c67eee5a.js';\nimport { o as openWormhole } from './consumer-1db89974.js';\nimport './_commonjsHelpers-9943807e.js';\n\nconst scOrderConfirmationTotalsCss = \":host{display:block}\";\n\nconst ScOrderConfirmationTotals = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n  }\n  renderDiscountLine() {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q;\n    if (!((_c = (_b = (_a = this.order) === null || _a === void 0 ? void 0 : _a.discount) === null || _b === void 0 ? void 0 : _b.promotion) === null || _c === void 0 ? void 0 : _c.code)) {\n      return null;\n    }\n    let humanDiscount = '';\n    if ((_e = (_d = this.order) === null || _d === void 0 ? void 0 : _d.discount) === null || _e === void 0 ? void 0 : _e.coupon) {\n      humanDiscount = getHumanDiscount((_g = (_f = this.order) === null || _f === void 0 ? void 0 : _f.discount) === null || _g === void 0 ? void 0 : _g.coupon);\n    }\n    return (h(\"sc-line-item\", { style: { marginTop: 'var(--sc-spacing-small)' } }, h(\"span\", { slot: \"description\" }, __('Discount', 'surecart'), h(\"br\", null), ((_k = (_j = (_h = this.order) === null || _h === void 0 ? void 0 : _h.discount) === null || _j === void 0 ? void 0 : _j.promotion) === null || _k === void 0 ? void 0 : _k.code) && (h(\"sc-tag\", { type: \"success\", size: \"small\" }, (_o = (_m = (_l = this.order) === null || _l === void 0 ? void 0 : _l.discount) === null || _m === void 0 ? void 0 : _m.promotion) === null || _o === void 0 ? void 0 : _o.code))), humanDiscount && (h(\"span\", { class: \"coupon-human-discount\", slot: \"price-description\" }, \"(\", humanDiscount, \")\")), h(\"sc-format-number\", { slot: \"price\", type: \"currency\", currency: (_p = this.order) === null || _p === void 0 ? void 0 : _p.currency, value: -((_q = this.order) === null || _q === void 0 ? void 0 : _q.discount_amount) })));\n  }\n  render() {\n    return (h(\"div\", { class: { 'line-item-totals': true } }, h(\"sc-line-item-total\", { order: this.order, total: \"subtotal\" }, h(\"span\", { slot: \"description\" }, __('Subtotal', 'surecart'))), this.renderDiscountLine(), h(\"sc-divider\", { style: { '--spacing': 'var(--sc-spacing-small)' } }), h(\"sc-line-item-total\", { order: this.order, size: \"large\", \"show-currency\": true }, h(\"span\", { slot: \"description\" }, __('Total', 'surecart')))));\n  }\n};\nopenWormhole(ScOrderConfirmationTotals, ['order', 'busy', 'loading', 'empty'], false);\nScOrderConfirmationTotals.style = scOrderConfirmationTotalsCss;\n\nexport { ScOrderConfirmationTotals as sc_order_confirmation_totals };\n"],"names":["openWormhole","Component","props","isBlocking","Proto","constructor","name","prototype","componentWillLoad","resolve","_this","this","el","g","onOpen","promise","Promise","res","event","CustomEvent","bubbles","composed","detail","consumer","fields","updater","prop","value","dispatchEvent","willLoad","call","then","getHumanDiscount","coupon","amount_off","currency","getFormattedPrice","amount","percent_off","converted","includes","convertAmount","Intl","NumberFormat","undefined","style","format","parseFloat","toFixed","getCurrencySymbol","code","formatToParts","translateInterval","interval","prefix","_","fallback","showSingle","s","intervalString","price","options","showOnce","labels","period","intervalCountString","periodCountString","recurring_interval_count","recurring_interval","recurring_period_count","ScOrderConfirmationTotals","hostRef","r","renderDiscountLine","_a","_b","_c","_d","_e","_f","_g","_h","_j","_k","_l","_m","_o","_p","_q","order","discount","promotion","humanDiscount","h","marginTop","slot","type","size","class","discount_amount","render","total","o"],"sourceRoot":""}