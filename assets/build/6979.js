"use strict";(self.webpackChunksureforms=self.webpackChunksureforms||[]).push([[6979],{6979:function(t,e,s){s.r(e),s.d(e,{sc_tax_id_input:function(){return r}});var n=s(6046),l=s(2093);s(290),s(5115);const r=class{constructor(t){(0,n.r)(this,t),this.scChange=(0,n.c)(this,"scChange",7),this.scInput=(0,n.c)(this,"scInput",7),this.scInputType=(0,n.c)(this,"scInputType",7),this.scSetState=(0,n.c)(this,"scSetState",7),this.show=!1,this.type="other",this.number=null,this.status="unknown"}handleCountryChange(){this.type=(0,l.g)(this.country)}componentWillLoad(){this.type=(0,l.g)(this.country)}renderStatus(){return"valid"===this.status?(0,n.h)("sc-icon",{name:"check",slot:"prefix",style:{color:"var(--sc-color-success-500)"}}):"invalid"===this.status?(0,n.h)("sc-icon",{name:"x",slot:"prefix",style:{color:"var(--sc-color-danger-500)"}}):void 0}render(){var t,e;return(0,n.h)(n.F,null,(0,n.h)("sc-input",{name:"tax_identifier.number_type",value:this.type,style:{display:"none"}}),(0,n.h)("sc-input",{label:null===(t=null===l.z||void 0===l.z?void 0:l.z[(null==this?void 0:this.type)||"other"])||void 0===t?void 0:t.label,name:"tax_identifier.number",value:this.number,onScChange:t=>{t.stopImmediatePropagation(),this.scChange.emit({number:t.target.value,number_type:this.type||"other"})}},this.loading&&"eu_vat"===this.type?(0,n.h)("sc-spinner",{slot:"prefix",style:{"--spinner-size":"10px"}}):this.renderStatus(),(0,n.h)("sc-dropdown",{slot:"suffix",position:"bottom-right"},(0,n.h)("sc-button",{type:"text",slot:"trigger",caret:!0,loading:!1,style:{color:"var(--sc-input-label-color)"}},null===(e=null===l.z||void 0===l.z?void 0:l.z[(null==this?void 0:this.type)||"other"])||void 0===e?void 0:e.label_small),(0,n.h)("sc-menu",null,Object.keys(l.z||{}).map((t=>(0,n.h)("sc-menu-item",{onClick:()=>{this.scChange.emit({number:this.number,number_type:t})},checked:this.type===t},l.z[t].label_small)))))))}static get watchers(){return{country:["handleCountryChange"]}}};r.style="sc-tax-id-input{display:block;z-index:3;position:relative}"},2093:function(t,e,s){s.d(e,{g:function(){return r},z:function(){return l}});var n=s(290);const l={ca_gst:{label:(0,n._)("GST Number","surecart"),label_small:(0,n._)("CA GST","surecart")},au_abn:{label:(0,n._)("ABN Number","surecart"),label_small:(0,n._)("AU ABN","surecart")},gb_vat:{label:(0,n._)("VAT Number","surecart"),label_small:(0,n._)("UK VAT","surecart")},eu_vat:{label:(0,n._)("VAT Number","surecart"),label_small:(0,n._)("EU VAT","surecart")},other:{label:(0,n._)("Tax ID","surecart"),label_small:(0,n._)("Other","surecart")}},r=t=>"CA"===(t=t?t.toUpperCase():t)?"ca_gst":"AU"===t?"au_abn":"GB"===t?"gb_vat":["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","EL","HU","IE","IT","LV","LT","LU","MT","NL","PL","RO","SK","SI","ES","SE"].includes(t)?"eu_vat":null}}]);