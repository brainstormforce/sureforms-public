"use strict";(self.webpackChunksureforms=self.webpackChunksureforms||[]).push([[2388],{7586:function(t,e,i){function s(t,e,i){return new Promise((s=>{if((null==i?void 0:i.duration)===1/0)throw new Error("Promise-based animations must be finite.");const n=t.animate(e,{...i,duration:window.matchMedia("(prefers-reduced-motion: reduce)").matches?0:i.duration});n.addEventListener("cancel",s,{once:!0}),n.addEventListener("finish",s,{once:!0})}))}function n(t){var e;return Promise.all(((null===(e=null==t?void 0:t.getAnimations)||void 0===e?void 0:e.call(t))||[]).map((t=>new Promise((e=>{const i=requestAnimationFrame(e);t.addEventListener("cancel",(()=>i),{once:!0}),t.addEventListener("finish",(()=>i),{once:!0}),t.cancel()})))))}function o(t,e){return t.map((t=>({...t,height:"auto"===t.height?`${e}px`:t.height})))}i.d(e,{a:function(){return s},b:function(){return l},c:function(){return o},g:function(){return c},s:function(){return n}});const r=new Map,a=new WeakMap;function l(t,e){r.set(t,function(t){return null!=t?t:{keyframes:[],options:{duration:0}}}(e))}function c(t,e){const i=a.get(t);if(null==i?void 0:i[e])return i[e];return r.get(e)||{keyframes:[],options:{duration:0}}}},8578:function(t,e,i){i.d(e,{o:function(){return n}});var s=i(6046),n=function(t,e,i){void 0===i&&(i=!0);var n="Function"===t.constructor.name?t.prototype:t,o=n.componentWillLoad;n.componentWillLoad=function(){var t,n=this,r=(0,s.g)(this),a={promise:new Promise((function(e){t=e})),resolve:t},l=new CustomEvent("openWormhole",{bubbles:!0,composed:!0,detail:{consumer:this,fields:e,updater:function(t,e){(t in r?r:n)[t]=e},onOpen:a}});r.dispatchEvent(l);var c=function(){if(o)return o.call(n)};return i?a.promise.then((function(){return c()})):c()}}},2388:function(t,e,i){i.r(e),i.d(e,{sc_order_summary:function(){return a}});var s=i(6046),n=i(290),o=i(8578),r=i(7586);i(5115);const a=class{constructor(t){(0,s.r)(this,t),this.scShow=(0,s.c)(this,"scShow",7),this.scHide=(0,s.c)(this,"scHide",7),this.closedText=(0,n._)("Show Summary","surecart"),this.openText=(0,n._)("Summary","surecart"),this.collapsible=!1}componentDidLoad(){this.body.hidden=this.collapsed,this.body.style.height=this.collapsed?"0":"auto"}handleClick(t){t.preventDefault(),this.empty&&!this.loading||(this.collapsed=!this.collapsed)}renderHeader(){return this.loading?(0,s.h)("sc-line-item",null,(0,s.h)("sc-skeleton",{slot:"title",style:{width:"120px",display:"inline-block"}}),(0,s.h)("sc-skeleton",{slot:"price",style:{width:"70px",display:"inline-block","--border-radius":"6px"}}),(0,s.h)("sc-skeleton",{slot:"currency",style:{width:"30px",display:"inline-block"}})):(0,s.h)("sc-line-item",{style:{"--price-size":"var(--sc-font-size-x-large)"}},(0,s.h)("span",{class:"collapse-link",slot:"title",onClick:t=>this.handleClick(t)},this.collapsed?this.closedText:this.openText,(0,s.h)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"collapse-link__icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,s.h)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"}))),(0,s.h)("span",{slot:"description"},(0,s.h)("slot",{name:"description"})),(0,s.h)("span",{slot:"price"},(0,s.h)("sc-total",{total:"total",order:this.order})))}async handleOpenChange(){if(this.collapsed){this.scHide.emit(),await(0,r.s)(this.body);const{keyframes:t,options:e}=(0,r.g)(this.el,"summary.hide");await(0,r.a)(this.body,(0,r.c)(t,this.body.scrollHeight),e),this.body.hidden=!0,this.body.style.height="auto"}else{this.scShow.emit(),await(0,r.s)(this.body),this.body.hidden=!1;const{keyframes:t,options:e}=(0,r.g)(this.el,"summary.show");await(0,r.a)(this.body,(0,r.c)(t,this.body.scrollHeight),e),this.body.style.height="auto"}}render(){return(0,s.h)("div",{class:{summary:!0,"summary--open":!this.collapsed}},this.collapsible&&this.renderHeader(),(0,s.h)("div",{ref:t=>this.body=t,class:{summary__content:!0,"summary__content--empty":this.empty&&!this.loading}},(0,s.h)("slot",null)),this.empty&&!this.loading&&(0,s.h)("p",{class:"empty"},(0,n._)("Your cart is empty.","surecart")))}get el(){return(0,s.g)(this)}static get watchers(){return{collapsed:["handleOpenChange"]}}};(0,r.b)("summary.show",{keyframes:[{height:"0",opacity:"0"},{height:"auto",opacity:"1"}],options:{duration:250,easing:"ease"}}),(0,r.b)("summary.hide",{keyframes:[{height:"auto",opacity:"1"},{height:"0",opacity:"0"}],options:{duration:250,easing:"ease"}}),(0,o.o)(a,["order","loading","empty"],!1),a.style=":host{display:block;font-family:var(--sc-font-sans);font-size:var(--sc-checkout-font-size, 16px)}.collapse-link{display:flex;align-items:center;gap:0.35em}.summary__content--empty{display:none}.collapse-link__icon{width:18px;height:18px;color:var(--sc-color-gray-500)}.item__product+.item__product{margin-top:20px}.empty{color:var(--sc-color-gray-500)}.summary{position:relative;user-select:none;cursor:pointer}.summary .collapse-link__icon{transition:transform 0.25s ease-in-out}.summary--open .collapse-link__icon{transform:rotate(180deg)}::slotted(*){margin:4px 0 !important}::slotted(sc-divider){margin:16px 0 !important}sc-line-item~sc-line-item{margin-top:14px}"}}]);