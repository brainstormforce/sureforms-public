"use strict";(self.webpackChunksureforms=self.webpackChunksureforms||[]).push([[905],{682:function(e,i,t){t.d(i,{o:function(){return r}});var n=t(7492),r=function(e,i,t){void 0===t&&(t=!0);var r="Function"===e.constructor.name?e.prototype:e,o=r.componentWillLoad;r.componentWillLoad=function(){var e,r=this,l=(0,n.g)(this),u={promise:new Promise((function(i){e=i})),resolve:e},c=new CustomEvent("openWormhole",{bubbles:!0,composed:!0,detail:{consumer:this,fields:i,updater:function(e,i){(e in l?l:r)[e]=i},onOpen:u}});l.dispatchEvent(c);var d=function(){if(o)return o.call(r)};return t?u.promise.then((function(){return d()})):d()}}},30:function(e,i,t){t.d(i,{a:function(){return l},c:function(){return n},h:function(){return o},i:function(){return r}});const n=e=>((null==e?void 0:e.data)||[]).map((e=>({price_id:e.price.id,quantity:e.quantity}))),r=(e,i)=>{var t;return!!((null==(t=null==i?void 0:i.line_items)?void 0:t.data)||[]).map((e=>e.price.id)).find((i=>(null==e?void 0:e.id)===i))},o=e=>{var i,t,n;return!!(null===(t=null===(i=null==e?void 0:e.line_items)||void 0===i?void 0:i.data)||void 0===t?void 0:t.length)&&(null===(n=null==e?void 0:e.line_items.data)||void 0===n?void 0:n.some((e=>{var i;return null===(i=null==e?void 0:e.price)||void 0===i?void 0:i.recurring_interval_count})))},l=e=>{var i;return o(e)&&(null===(i=null==e?void 0:e.line_items.data)||void 0===i?void 0:i.some((e=>{var i;return null===(i=null==e?void 0:e.price)||void 0===i?void 0:i.recurring_period_count})))}},5241:function(e,i,t){t.d(i,{a:function(){return l},g:function(){return r},i:function(){return c},t:function(){return u}});var n=t(9988);const r=e=>e.amount_off&&e.currency?o({amount:e.amount_off,currency:e.currency}):e.percent_off?(0|e.percent_off)+"% off":"",o=({amount:e,currency:i})=>{const t=((e,i)=>["bif","clp","djf","gnf","jpy","kmf","krw"].includes(i)?e:e/100)(e,i);return`${new Intl.NumberFormat(void 0,{style:"currency",currency:i}).format(parseFloat(t.toFixed(2)))}`},l=(e="usd")=>{const[i]=new Intl.NumberFormat(void 0,{style:"currency",currency:e}).formatToParts();return null==i?void 0:i.value},u=(e,i,t=(0,n._)("every","surecart"),r=(0,n._)("once","surecart"),o=!1)=>{switch(i){case"day":return`${t} ${(0,n.s)(o?(0,n.a)("%d day","%d days",e,"surecart"):(0,n.a)("day","%d days",e,"surecart"),e)}`;case"week":return`${t} ${(0,n.s)(o?(0,n.a)("%d week","%d weeks",e,"surecart"):(0,n.a)("week","%d weeks",e,"surecart"),e)}`;case"month":return`${t} ${(0,n.s)(o?(0,n.a)("%d month","%d months",e,"surecart"):(0,n.a)("month","%d months",e,"surecart"),e)}`;case"year":return`${t} ${(0,n.s)(o?(0,n.a)("%d year","%d years",e,"surecart"):(0,n.a)("year","%d years",e,"surecart"),e)}`;default:return r}},c=(e,i={})=>{if(!e)return"";const{showOnce:t,labels:r}=i,{interval:o=(0,n._)("every","surecart"),period:l=(0,n._)("for","surecart")}=r||{};return`${d(e,o,t?(0,n._)("once","surecart"):"")} ${s(e,l)}`},d=(e,i,t=(0,n._)("once","surecart"))=>e.recurring_interval_count&&e.recurring_interval?u(e.recurring_interval_count,e.recurring_interval,` ${i}`,t):"",s=(e,i,t="")=>(null==e?void 0:e.recurring_period_count)&&(null==e?void 0:e.recurring_interval)?u(((null==e?void 0:e.recurring_period_count)||0)*(null==e?void 0:e.recurring_interval_count),null==e?void 0:e.recurring_interval,` ${i}`,t,!0):""},905:function(e,i,t){t.r(i),t.d(i,{sc_line_items:function(){return u}});var n=t(7492),r=t(682),o=t(30),l=t(5241);t(9988),t(7094);const u=class{constructor(e){(0,n.r)(this,e),this.scUpdateLineItem=(0,n.c)(this,"scUpdateLineItem",7),this.scRemoveLineItem=(0,n.c)(this,"scRemoveLineItem",7),this.editLineItems=!0,this.removeLineItems=!0,this.lockedChoices=[]}updateQuantity(e,i){this.scUpdateLineItem.emit({price_id:e.price.id,quantity:i})}removeLineItem(e){this.scRemoveLineItem.emit({price_id:e.price.id,quantity:1})}getName(e){var i,t,n,r,o;let l="";return l=Object.keys(this.prices||{}).filter((i=>this.prices[i].product===e.price.product.id)).length>1?`${null===(t=null===(i=null==e?void 0:e.price)||void 0===i?void 0:i.product)||void 0===t?void 0:t.name} â€“ ${null===(n=null==e?void 0:e.price)||void 0===n?void 0:n.name}`:null===(o=null===(r=null==e?void 0:e.price)||void 0===r?void 0:r.product)||void 0===o?void 0:o.name,l}isLocked(e){return this.lockedChoices.some((i=>i.id===e.price.id))}isEditable(){return null!==this.editable?this.editable:this.editLineItems}isRemovable(){return null!==this.removable?this.removable:this.removeLineItems}render(){var e,i;return this.loading?(0,n.h)("sc-line-item",null,(0,n.h)("sc-skeleton",{style:{width:"50px",height:"50px","--border-radius":"0"},slot:"image"}),(0,n.h)("sc-skeleton",{slot:"title",style:{width:"120px",display:"inline-block"}}),(0,n.h)("sc-skeleton",{slot:"description",style:{width:"60px",display:"inline-block"}}),(0,n.h)("sc-skeleton",{style:{width:"120px",display:"inline-block"},slot:"price"}),(0,n.h)("sc-skeleton",{style:{width:"60px",display:"inline-block"},slot:"price-description"})):(0,n.h)("div",{class:"line-items"},null===(i=null===(e=this.order)||void 0===e?void 0:e.line_items)||void 0===i?void 0:i.data.map((e=>{var i,t,r,u,c,d,s;return(0,n.h)("sc-product-line-item",{key:e.id,imageUrl:null===(t=null===(i=null==e?void 0:e.price)||void 0===i?void 0:i.product)||void 0===t?void 0:t.image_url,name:null===(u=null===(r=null==e?void 0:e.price)||void 0===r?void 0:r.product)||void 0===u?void 0:u.name,editable:this.isEditable()&&!(null===(c=null==e?void 0:e.price)||void 0===c?void 0:c.ad_hoc),removable:this.isRemovable(),quantity:e.quantity,amount:null!==e.ad_hoc_amount?e.ad_hoc_amount:e.price.amount*e.quantity,currency:null===(d=this.order)||void 0===d?void 0:d.currency,trialDurationDays:null===(s=null==e?void 0:e.price)||void 0===s?void 0:s.trial_duration_days,interval:!!(null==e?void 0:e.price)&&(0,l.i)(null==e?void 0:e.price,{showOnce:(0,o.h)(this.order)}),onScUpdateQuantity:i=>this.updateQuantity(e,i.detail),onScRemove:()=>this.removeLineItem(e)})})))}};(0,r.o)(u,["order","loading","prices","lockedChoices","editLineItems","removeLineItems"],!1),u.style=":host{display:block}:slotted(*~*){margin-top:20px}sc-product-line-item~sc-product-line-item,sc-line-item~sc-line-item{margin-top:20px}"}}]);
//# sourceMappingURL=905.js.map