"use strict";(self.webpackChunksureforms=self.webpackChunksureforms||[]).push([[3520],{3520:function(s,e,a){a.r(e),a.d(e,{sc_wordpress_user_edit:function(){return n}});var t=a(6046),i=a(290),r=a(712);a(5115);const n=class{constructor(s){(0,t.r)(this,s)}renderEmpty(){return(0,t.h)("slot",{name:"empty"},(0,i._)("User not found.","surecart"))}async handleSubmit(s){this.loading=!0;try{const{email:e,first_name:a,last_name:t,name:i}=await s.target.getFormJson();await(0,r.a)({path:"wp/v2/users/me",method:"PATCH",data:{first_name:a,last_name:t,email:e,name:i}}),this.successUrl?window.location.assign(this.successUrl):this.loading=!1}catch(s){this.error=(null==s?void 0:s.message)||(0,i._)("Something went wrong","surecart"),this.loading=!1}}render(){var s,e,a,r;return(0,t.h)("sc-dashboard-module",{class:"account-details",error:this.error},(0,t.h)("span",{slot:"heading"},this.heading||(0,i._)("Account Details","surecart")," "),(0,t.h)("sc-card",null,(0,t.h)("sc-form",{onScFormSubmit:s=>this.handleSubmit(s)},(0,t.h)("sc-input",{label:(0,i._)("Billing Email","surecart"),name:"email",value:null===(s=this.user)||void 0===s?void 0:s.email,required:!0}),(0,t.h)("sc-columns",{style:{"--sc-column-spacing":"var(--sc-spacing-medium)"}},(0,t.h)("sc-column",null,(0,t.h)("sc-input",{label:(0,i._)("First Name","surecart"),name:"first_name",value:null===(e=this.user)||void 0===e?void 0:e.first_name})),(0,t.h)("sc-column",null,(0,t.h)("sc-input",{label:(0,i._)("Last Name","surecart"),name:"last_name",value:null===(a=this.user)||void 0===a?void 0:a.last_name}))),(0,t.h)("sc-input",{label:(0,i._)("Display Name","surecart"),name:"name",value:null===(r=this.user)||void 0===r?void 0:r.display_name}),(0,t.h)("div",null,(0,t.h)("sc-button",{type:"primary",full:!0,submit:!0},(0,i._)("Save","surecart"))))),this.loading&&(0,t.h)("sc-block-ui",{spinner:!0}))}};n.style=":host{display:block;position:relative}.customer-details{display:grid;gap:0.75em}"}}]);
//# sourceMappingURL=3520.js.map