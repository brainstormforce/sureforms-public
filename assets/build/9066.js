"use strict";(self.webpackChunksureforms=self.webpackChunksureforms||[]).push([[9066],{8578:function(i,t,e){e.d(t,{o:function(){return s}});var n=e(6046),s=function(i,t,e){void 0===e&&(e=!0);var s="Function"===i.constructor.name?i.prototype:i,o=s.componentWillLoad;s.componentWillLoad=function(){var i,s=this,c=(0,n.g)(this),r={promise:new Promise((function(t){i=t})),resolve:i},h=new CustomEvent("openWormhole",{bubbles:!0,composed:!0,detail:{consumer:this,fields:t,updater:function(i,t){(i in c?c:s)[i]=t},onOpen:r}});c.dispatchEvent(h);var l=function(){if(o)return o.call(s)};return e?r.promise.then((function(){return l()})):l()}}},9066:function(i,t,e){e.r(t),e.d(t,{sc_custom_order_price_input:function(){return c}});var n=e(6046),s=e(712),o=e(8578);e(290),e(5115);const c=class{constructor(i){(0,n.r)(this,i),this.scUpdateLineItem=(0,n.c)(this,"scUpdateLineItem",7),this.loading=!1,this.busy=!1,this.lineItems=[],this.fetching=!1}handleBlur(i){var t;const e=parseInt(i.target.value);isNaN(e)||(null===(t=this.lineItem)||void 0===t?void 0:t.ad_hoc_amount)!==e&&this.scUpdateLineItem.emit({price_id:this.priceId,quantity:1,ad_hoc_amount:e})}handleLineItemsChange(){var i;(null===(i=this.lineItems)||void 0===i?void 0:i.length)&&(this.lineItem=(this.lineItems||[]).find((i=>i.price.id===this.priceId)))}componentDidLoad(){this.price||this.fetchPrice()}async fetchPrice(){if(this.priceId)try{this.fetching=!0,this.price=await(0,s.a)({path:`surecart/v1/prices/${this.priceId}`})}catch(i){}finally{this.fetching=!1}}render(){var i,t,e,s;return this.loading||this.fetching?(0,n.h)("div",null,(0,n.h)("sc-skeleton",{style:{width:"20%",marginBottom:"0.75em"}}),(0,n.h)("sc-skeleton",{style:{width:"100%"}})):(0,n.h)("div",{class:"sc-custom-order-price-input"},(0,n.h)("sc-price-input",{"currency-code":(null===(i=this.price)||void 0===i?void 0:i.currency)||"usd",label:this.label,min:null===(t=null==this?void 0:this.price)||void 0===t?void 0:t.ad_hoc_min_amount,max:null===(e=null==this?void 0:this.price)||void 0===e?void 0:e.ad_hoc_max_amount,placeholder:this.placeholder,required:this.required,value:null===(s=this.lineItem)||void 0===s?void 0:s.ad_hoc_amount.toString(),"show-code":this.showCode,help:this.help}),this.busy&&(0,n.h)("sc-block-ui",{style:{zIndex:"9"}}))}static get watchers(){return{lineItems:["handleLineItemsChange"]}}};(0,o.o)(c,["busy","lineItems"],!1),c.style="sc-custom-order-price-input{display:block}"}}]);